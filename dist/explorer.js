var Ve=Object.defineProperty;var Qe=(t,e,n)=>e in t?Ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var d=(t,e,n)=>(Qe(t,typeof e!="symbol"?e+"":e,n),n);function T(){}function Le(t){return t()}function ze(){return Object.create(null)}function be(t){t.forEach(Le)}function je(t){return typeof t=="function"}function X(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let me;function Ce(t,e){return t===e?!0:(me||(me=document.createElement("a")),me.href=e,t===me.href)}function Xe(t){return Object.keys(t).length===0}function b(t,e){t.appendChild(e)}function ce(t,e,n){const i=e0(t);if(!i.getElementById(e)){const r=v("style");r.id=e,r.textContent=n,t0(i,r)}}function e0(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function t0(t,e){return b(t.head||t,e),e.sheet}function N(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function oe(t){return document.createTextNode(t)}function O(){return oe(" ")}function n0(){return oe("")}function Me(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function s0(t){return Array.from(t.childNodes)}function i0(t,e){e=""+e,t.data!==e&&(t.data=e)}function J(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function R(t,e,n){t.classList.toggle(e,!!n)}function r0(t){const e={};return t.childNodes.forEach(n=>{e[n.slot||"default"]=!0}),e}let Ae;function he(t){Ae=t}const ie=[],C=[];let le=[];const $e=[],o0=Promise.resolve();let ke=!1;function l0(){ke||(ke=!0,o0.then(M))}function Se(t){le.push(t)}function B(t){$e.push(t)}const xe=new Set;let se=0;function M(){if(se!==0)return;const t=Ae;do{try{for(;se<ie.length;){const e=ie[se];se++,he(e),a0(e.$$)}}catch(e){throw ie.length=0,se=0,e}for(he(null),ie.length=0,se=0;C.length;)C.pop()();for(let e=0;e<le.length;e+=1){const n=le[e];xe.has(n)||(xe.add(n),n())}le.length=0}while(ie.length);for(;$e.length;)$e.pop()();ke=!1,xe.clear(),he(t)}function a0(t){if(t.fragment!==null){t.update(),be(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Se)}}function c0(t){const e=[],n=[];le.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),le=e}const ye=new Set;let K;function u0(){K={r:0,c:[],p:K}}function d0(){K.r||be(K.c),K=K.p}function U(t,e){t&&t.i&&(ye.delete(t),t.i(e))}function Y(t,e,n,i){if(t&&t.o){if(ye.has(t))return;ye.add(t),K.c.push(()=>{ye.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function H(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function ae(t){t&&t.c()}function V(t,e,n){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),Se(()=>{const c=t.$$.on_mount.map(Le).filter(je);t.$$.on_destroy?t.$$.on_destroy.push(...c):be(c),t.$$.on_mount=[]}),r.forEach(Se)}function Q(t,e){const n=t.$$;n.fragment!==null&&(c0(n.after_update),be(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function f0(t,e){t.$$.dirty[0]===-1&&(ie.push(t),l0(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ee(t,e,n,i,r,c,s=null,l=[-1]){const a=Ae;he(t);const o=t.$$={fragment:null,ctx:[],props:c,update:T,not_equal:r,bound:ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ze(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};s&&s(o.root);let u=!1;if(o.ctx=n?n(t,e.props||{},(f,_,...$)=>{const g=$.length?$[0]:_;return o.ctx&&r(o.ctx[f],o.ctx[f]=g)&&(!o.skip_bound&&o.bound[f]&&o.bound[f](g),u&&f0(t,f)),_}):[],o.update(),u=!0,be(o.before_update),o.fragment=i?i(o.ctx):!1,e.target){if(e.hydrate){const f=s0(e.target);o.fragment&&o.fragment.l(f),f.forEach(j)}else o.fragment&&o.fragment.c();e.intro&&U(t.$$.fragment),V(t,e.target,e.anchor),M()}he(a)}let Ne;typeof HTMLElement=="function"&&(Ne=class extends HTMLElement{constructor(e,n,i){super();d(this,"$$ctor");d(this,"$$s");d(this,"$$c");d(this,"$$cn",!1);d(this,"$$d",{});d(this,"$$r",!1);d(this,"$$p_d",{});d(this,"$$l",{});d(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=n,i&&this.attachShadow({mode:"open"})}addEventListener(e,n,i){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(n),this.$$c){const r=this.$$c.$on(e,n);this.$$l_u.set(n,r)}super.addEventListener(e,n,i)}removeEventListener(e,n,i){if(super.removeEventListener(e,n,i),this.$$c){const r=this.$$l_u.get(n);r&&(r(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let n=function(s){return()=>{let l;return{c:function(){l=v("slot"),s!=="default"&&m(l,"name",s)},m:function(u,f){N(u,l,f)},d:function(u){u&&j(l)}}}};var e=n;if(await Promise.resolve(),!this.$$cn)return;const i={},r=r0(this);for(const s of this.$$s)s in r&&(i[s]=[n(s)]);for(const s of this.attributes){const l=this.$$g_p(s.name);l in this.$$d||(this.$$d[l]=ve(l,s.value,this.$$p_d,"toProp"))}for(const s in this.$$p_d)!(s in this.$$d)&&this[s]!==void 0&&(this.$$d[s]=this[s],delete this[s]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:i,$$scope:{ctx:[]}}});const c=()=>{this.$$r=!0;for(const s in this.$$p_d)if(this.$$d[s]=this.$$c.$$.ctx[this.$$c.$$.props[s]],this.$$p_d[s].reflect){const l=ve(s,this.$$d[s],this.$$p_d,"toAttribute");l==null?this.removeAttribute(this.$$p_d[s].attribute||s):this.setAttribute(this.$$p_d[s].attribute||s,l)}this.$$r=!1};this.$$c.$$.after_update.push(c),c();for(const s in this.$$l)for(const l of this.$$l[s]){const a=this.$$c.$on(s,l);this.$$l_u.set(l,a)}this.$$l={}}}attributeChangedCallback(e,n,i){var r;this.$$r||(e=this.$$g_p(e),this.$$d[e]=ve(e,i,this.$$p_d,"toProp"),(r=this.$$c)==null||r.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(n=>this.$$p_d[n].attribute===e||!this.$$p_d[n].attribute&&n.toLowerCase()===e)||e}});function ve(t,e,n,i){var c;const r=(c=n[t])==null?void 0:c.type;if(e=r==="Boolean"&&typeof e!="boolean"?e!=null:e,!i||!n[t])return e;if(i==="toAttribute")switch(r){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(r){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function te(t,e,n,i,r,c){let s=class extends Ne{constructor(){super(t,n,r),this.$$p_d=e}static get observedAttributes(){return Object.keys(e).map(l=>(e[l].attribute||l).toLowerCase())}};return Object.keys(e).forEach(l=>{Object.defineProperty(s.prototype,l,{get(){return this.$$c&&l in this.$$c?this.$$c[l]:this.$$d[l]},set(a){var o;a=ve(l,a,e),this.$$d[l]=a,(o=this.$$c)==null||o.$set({[l]:a})}})}),i.forEach(l=>{Object.defineProperty(s.prototype,l,{get(){var a;return(a=this.$$c)==null?void 0:a[l]}})}),c&&(s=c(s)),t.element=s,s}class ne{constructor(){d(this,"$$");d(this,"$$set")}$destroy(){Q(this,1),this.$destroy=T}$on(e,n){if(!je(n))return T;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!Xe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const p0="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(p0);class _e{constructor(e,n,i={max:1},r){d(this,"position");d(this,"image");d(this,"frames");d(this,"sprites");d(this,"width",0);d(this,"height",0);d(this,"moving");this.position=e,this.image=n,this.frames={...i,val:0,elapsed:0},this.sprites=r,this.image.onload=()=>{this.width=this.image.width/this.frames.max,this.height=this.image.height},this.moving=!1}draw(e,n){e.drawImage(this.image,this.frames.val*this.width,0,this.image.width/this.frames.max,this.image.height,this.position.x,this.position.y,this.image.width/this.frames.max,this.image.height),this.moving&&(this.frames.max>1&&(this.frames.elapsed+=1),this.frames.elapsed%10===0&&(this.frames.val+=1,this.frames.val>this.frames.max-1&&(this.frames.val=0)))}}class h0 extends _e{constructor(e,n){super(new F(n.width-n.width*.26,n.height*.08),e)}draw(e){e.drawImage(this.image,this.frames.val*this.width,0,this.image.width,this.image.height,this.position.x,this.position.y,this.image.width*4,this.image.height*4)}}class F{constructor(e,n){d(this,"x");d(this,"y");this.x=e,this.y=n}}class b0{constructor(e,n,i,r=[]){d(this,"name");d(this,"gender");d(this,"sprites");d(this,"monsters");d(this,"bag",[]);d(this,"lvl",1);d(this,"moving",!1);d(this,"direction","DOWN");d(this,"position");d(this,"frames");this.name=e,this.gender=n,this.sprites=i,this.monsters=r,this.frames={max:3,val:0,elapsed:0},this.position=new F(0,0)}get sprite(){return this.sprites[this.direction.toLowerCase()]}draw(e){var n;e.drawImage(this.sprite,(((n=this.frames)==null?void 0:n.val)||0)*this.sprite.width,0,this.sprite.width/this.frames.max,this.sprite.height,this.position.x,this.position.y,this.sprite.width/this.frames.max,this.sprite.height),this.moving&&(this.frames.max>1&&(this.frames.elapsed+=1),this.frames.elapsed%10===0&&(this.frames.val+=1,this.frames.val>this.frames.max-1&&(this.frames.val=0)))}}class q{constructor(e){d(this,"position");d(this,"width");d(this,"height");this.position=e,this.width=re,this.height=re}debug(e){e.fillStyle="red",e.fillRect(this.position.x,this.position.y,this.width,this.height)}}function fe(t,e){return t.position.x+t.width>=e.position.x&&t.position.x<=e.position.x+e.width&&t.position.y+t.height>=e.position.y&&t.position.y<=e.position.y+e.height}const re=56;class g0{constructor(e,n,i,r,c,s,l){d(this,"background");d(this,"foreground");d(this,"width");d(this,"height");d(this,"boundaries");d(this,"battleZones");d(this,"monsters");d(this,"currentMonster");this.background=e,this.foreground=n,this.width=i,this.height=r,this.boundaries=this.initBoundaries(c),this.battleZones=this.initBattlesZones(s),this.monsters=l}randomMonster(e){const n=this.monsters[Math.floor(Math.random()*this.monsters.length)],i=new Image;return i.src=`src/assets/monsters/heartgold-soulsilver/${n}.png`,this.currentMonster=new h0(i,e),this.currentMonster}initBattlesZones(e){const n=[];for(let r=0;r<e.length;r+=pe)n.push(e.slice(r,pe+r));const i=[];return n.forEach((r,c)=>{r.forEach((s,l)=>{if(s===x0){const a=new q(new F(l*re,c*re-220));i.push(a)}})}),i}initBoundaries(e){const n=[];for(let r=0;r<e.length;r+=pe)n.push(e.slice(r,pe+r));const i=[];return n.forEach((r,c)=>{r.forEach((s,l)=>{if(s===v0){const a=new q(new F(l*re,c*re-220));i.push(a)}})}),i}}const Pe=new Image;Pe.src="src/assets/maps/map-1-background.png";const Fe=new Image;Fe.src="src/assets/maps/map-1-foreground.png";const we={x:0,y:-220},m0=new _e(new F(we.x,we.y),Pe),y0=new _e(new F(we.x,we.y),Fe),v0=145,pe=40,w0=30,_0=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,145,145,145,145,145,145,145,145,145,145,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,145,145,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,145,145,145,145,145,145,145,145,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,145,145,145,145,145,145,145,145,145,0,145,145,145,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,145,0,145,145,145,0,0,0,145,0,145,145,145,0,0,145,145,145,145,145,0,0,0,0,145,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,145,0,145,145,145,145,0,0,145,0,0,0,0,0,0,145,145,145,145,145,0,0,0,0,145,0,0,0,0,0,0,0,145,0,0,145,145,145,0,0,145,0,145,145,145,0,0,0,145,0,0,0,0,0,0,145,145,145,145,145,145,0,0,0,145,0,0,0,0,0,0,0,145,0,0,145,145,145,0,0,145,0,145,145,145,0,0,145,145,0,0,0,0,0,0,145,145,145,145,145,0,0,0,0,145,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,145,145,0,0,0,0,145,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,145,0,0,0,0,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,145,0,0,0,0,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,145,0,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,145,0,0,0,0,0,0,0,145,0,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,0,145,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,0,145,0,0,0,0,0,0,0,0,0,0,145,145,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,145,145,145,145,145,0,0,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,145,0,0,0,145,0,0,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,0,0,0,145,0,0,0,0,0,0,0,0,0,0,145,145,145,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,145,0,145,145,145,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,0,0,0,0,0,0,0,145,0,0,0,145,0,145,145,145,145,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,145,145,145,145,145,145,145,0,0,0,145,145,0,0,0,0,145,145,145,145,145,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,145,145,145,145,145,145,145,145,0,0,0,145,145,0,0,0,0,145,145,145,145,145,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,0,0,145,145,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,145,145,0,0,0,145,145,145,145,145,145,145,145,145,145,145,145,145,145,0,0,0,0,0,0,0,0,0,0,0,0],x0=74,$0=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,74,74,74,74,0,0,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,74,74,74,74,74,74,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,44,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,74,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k0=["1","4","7"],S0=new g0(m0,y0,pe,w0,_0,$0,k0),P={up:{pressed:!1},down:{pressed:!1},left:{pressed:!1},right:{pressed:!1}};let W="";function M0(){return t=>{switch(t.key){case"ArrowDown":P.down.pressed=!1;break;case"ArrowUp":P.up.pressed=!1;break;case"ArrowRight":P.right.pressed=!1;break;case"ArrowLeft":P.left.pressed=!1;break}}}function A0(){return t=>{switch(t.key){case"ArrowDown":W="ArrowDown",P.down.pressed=!0;break;case"ArrowUp":W="ArrowUp",P.up.pressed=!0;break;case"ArrowRight":W="ArrowRight",P.right.pressed=!0;break;case"ArrowLeft":W="ArrowLeft",P.left.pressed=!0;break}}}class z0 extends _e{constructor(e,n){super(e,n)}draw(e,n){e.drawImage(this.image,0,0,this.image.width,this.image.height,0,0,n.width,n.height)}}const Re=new Image;Re.src="src/assets/battle/battle_bg.png";const E0=new z0(new F(0,0),Re);function O0(t){ce(t,"svelte-1g06i6b",".ally-info.svelte-1g06i6b.svelte-1g06i6b{opacity:0;visibility:hidden;background-color:antiquewhite;height:12dvh;width:30dvw;position:absolute;bottom:26dvh;right:-30dvw;transition:right 0.5s ease-in-out;border:14px solid #595b59;border-radius:24px;padding:16px;display:flex;flex-direction:column;gap:10%;justify-content:space-evenly}.ally-info.opened.svelte-1g06i6b.svelte-1g06i6b{opacity:1;visibility:visible;right:1dvw}.ally-info.svelte-1g06i6b .name-lvl.svelte-1g06i6b{display:flex;justify-content:space-between;align-items:center;font-size:46px}.ally-info.svelte-1g06i6b .status.svelte-1g06i6b{display:flex;flex-direction:column;align-items:flex-end;gap:8px}.ally-info.svelte-1g06i6b .hp.svelte-1g06i6b{width:60%;display:flex;gap:16px;background-color:#262626;color:orange;align-items:center;justify-content:space-evenly;border-radius:8px;padding:3px}.ally-info.svelte-1g06i6b .hp span.svelte-1g06i6b{padding:0 0 0 12px;font-weight:bold}.ally-info.svelte-1g06i6b .hp .progressbar-wrapper.svelte-1g06i6b{height:24px;width:100%;background-color:#595b59;border-radius:4px;border:2px solid white}.ally-info.svelte-1g06i6b .hp .progressbar-wrapper .progressbar.svelte-1g06i6b{width:var(--width);height:100%;background:rgb(184, 244, 166);background:linear-gradient(0deg, rgb(184, 244, 166) 0%, rgb(86, 170, 58) 30%, rgb(86, 170, 58) 50%, rgb(86, 170, 58) 70%, rgb(184, 244, 166) 100%);text-align:center;border-radius:2px}")}function I0(t){let e,n,i,r,c,s,l,a,o,u,f,_,$;return{c(){e=v("div"),n=v("div"),n.innerHTML='<span class="svelte-1g06i6b">MONSTER 1</span> <span class="svelte-1g06i6b">Lv 5</span>',i=O(),r=v("div"),c=v("div"),s=v("span"),s.textContent="HP",l=O(),a=v("div"),o=v("div"),u=O(),f=oe(Be),_=oe(" / "),$=oe(Te),m(n,"class","name-lvl svelte-1g06i6b"),m(s,"class","svelte-1g06i6b"),m(o,"class","progressbar svelte-1g06i6b"),J(o,"--width",t[1]+"%"),m(a,"class","progressbar-wrapper svelte-1g06i6b"),m(c,"class","hp svelte-1g06i6b"),m(r,"class","status svelte-1g06i6b"),m(e,"class","ally-info svelte-1g06i6b"),R(e,"opened",t[0])},m(g,A){N(g,e,A),b(e,n),b(e,i),b(e,r),b(r,c),b(c,s),b(c,l),b(c,a),b(a,o),b(r,u),b(r,f),b(r,_),b(r,$)},p(g,[A]){A&2&&J(o,"--width",g[1]+"%"),A&1&&R(e,"opened",g[0])},i:T,o:T,d(g){g&&j(e)}}}let Te=20,Be=15;function L0(t,e,n){let i,{opened:r}=e,{monster:c}=e;return t.$$set=s=>{"opened"in s&&n(0,r=s.opened),"monster"in s&&n(2,c=s.monster)},n(1,i=Be*100/Te),[r,i,c]}class He extends ne{constructor(e){super(),ee(this,e,L0,I0,X,{opened:0,monster:2},O0)}get opened(){return this.$$.ctx[0]}set opened(e){this.$$set({opened:e}),M()}get monster(){return this.$$.ctx[2]}set monster(e){this.$$set({monster:e}),M()}}te(He,{opened:{},monster:{}},[],[],!0);function j0(t){ce(t,"svelte-10yf6i2",".action-bar.svelte-10yf6i2.svelte-10yf6i2{opacity:0;visibility:hidden;background-color:white;height:25dvh;width:100dvw;position:absolute;bottom:-25dvh;left:0;transition:bottom 0.5s ease-in-out;box-shadow:inset #009688 0 0 0 5px, inset #059c8e 0 0 0 1px, inset #0cab9c 0 0 0 10px, inset #1fbdae 0 0 0 11px, inset #8ce9ff 0 0 0 16px, inset #48e4d6 0 0 0 17px, inset #e5f9f7 0 0 0 21px, inset #bfecf7 0 0 0 22px;text-shadow:3px 3px 1px #bfecf7;display:flex}.action-bar.opened.svelte-10yf6i2.svelte-10yf6i2{opacity:1;visibility:visible;bottom:0}.action-bar.svelte-10yf6i2 .info.svelte-10yf6i2{width:50%;height:100%;font-size:64px;display:flex;align-items:center;align-content:center;justify-content:space-around;position:relative}.action-bar.svelte-10yf6i2 .info ._inner.svelte-10yf6i2{position:absolute;left:17px;z-index:1;height:calc(100% - 55px);border:10px solid black;border-radius:10px;display:flex;align-items:center;justify-content:center;width:100%}.action-bar.svelte-10yf6i2 .actions.svelte-10yf6i2{width:50%;height:100%;display:flex;background:#FFFFFF;border:14px solid #595b59;border-radius:8px;box-sizing:border-box;padding:12px;z-index:2;flex-wrap:wrap;gap:12px}.action-btn.svelte-10yf6i2.svelte-10yf6i2{background-color:var(--color);font-size:64px;color:white;border-radius:24px;border:6px solid #595b59;font-family:pokemon, serif;transition:color 0.3s ease-in-out, opacity 0.3s ease-in-out;flex:49%}.action-btn.svelte-10yf6i2.svelte-10yf6i2:hover{cursor:pointer;opacity:0.96;color:#262626}")}function C0(t){let e,n,i,r,c,s,l,a,o,u,f,_,$,g,A;return{c(){e=v("div"),n=v("div"),i=v("div"),r=oe(t[1]),c=O(),s=v("div"),l=v("button"),l.textContent="FIGHT",a=O(),o=v("button"),o.textContent="BAG",u=O(),f=v("button"),f.textContent="POKEMONS",_=O(),$=v("button"),$.textContent="RUN",m(i,"class","_inner svelte-10yf6i2"),m(n,"class","info svelte-10yf6i2"),m(l,"class","action-btn svelte-10yf6i2"),J(l,"--color","#dc5959"),m(o,"class","action-btn svelte-10yf6i2"),J(o,"--color","#eca859"),m(f,"class","action-btn svelte-10yf6i2"),J(f,"--color","#7EAF53"),m($,"class","action-btn svelte-10yf6i2"),J($,"--color","#599bdc"),m(s,"class","actions svelte-10yf6i2"),m(e,"class","action-bar svelte-10yf6i2"),R(e,"opened",t[0])},m(I,y){N(I,e,y),b(e,n),b(n,i),b(i,r),b(e,c),b(e,s),b(s,l),b(s,a),b(s,o),b(s,u),b(s,f),b(s,_),b(s,$),g||(A=Me($,"click",t[2]),g=!0)},p(I,[y]){y&2&&i0(r,I[1]),y&1&&R(e,"opened",I[0])},i:T,o:T,d(I){I&&j(e),g=!1,A()}}}const Ee="WHAT WILL YOU DO ?";function N0(t,e,n){let{opened:i}=e,{canRun:r=!0}=e,c=Ee;function s(){r?Math.random()>.7&&(n(1,c="YOU RAN AWAY SAFELY !"),setTimeout(()=>{n(0,i=!1)},1e3)):(n(1,c="YOU CAN'T RUN FROM A TRAINER BATTLE !"),setTimeout(()=>{n(1,c=Ee)},3e3))}return t.$$set=l=>{"opened"in l&&n(0,i=l.opened),"canRun"in l&&n(3,r=l.canRun)},[i,c,s,r]}class De extends ne{constructor(e){super(),ee(this,e,N0,C0,X,{opened:0,canRun:3},j0)}get opened(){return this.$$.ctx[0]}set opened(e){this.$$set({opened:e}),M()}get canRun(){return this.$$.ctx[3]}set canRun(e){this.$$set({canRun:e}),M()}}te(De,{opened:{},canRun:{type:"Boolean"}},[],[],!0);function P0(t){ce(t,"svelte-v8z2l8",".enemy-info.svelte-v8z2l8.svelte-v8z2l8{opacity:0;visibility:hidden;background-color:antiquewhite;height:12dvh;width:30dvw;position:absolute;top:2dvh;left:-30dvw;transition:left 0.5s ease-in-out;border:14px solid #595b59;border-radius:24px;padding:16px;display:flex;flex-direction:column;gap:10%;justify-content:space-evenly}.enemy-info.opened.svelte-v8z2l8.svelte-v8z2l8{opacity:1;visibility:visible;left:1dvw}.enemy-info.svelte-v8z2l8 .name-lvl.svelte-v8z2l8{display:flex;justify-content:space-between;align-items:center;font-size:46px}.enemy-info.svelte-v8z2l8 .status.svelte-v8z2l8{display:flex;flex-direction:column;align-items:flex-end;gap:8px}.enemy-info.svelte-v8z2l8 .hp.svelte-v8z2l8{width:60%;display:flex;gap:16px;background-color:#262626;color:orange;align-items:center;justify-content:space-evenly;border-radius:8px;padding:3px}.enemy-info.svelte-v8z2l8 .hp span.svelte-v8z2l8{padding:0 0 0 12px;font-weight:bold}.enemy-info.svelte-v8z2l8 .hp .progressbar-wrapper.svelte-v8z2l8{height:24px;width:100%;background-color:#595b59;border-radius:4px;border:2px solid white}.enemy-info.svelte-v8z2l8 .hp .progressbar-wrapper .progressbar.svelte-v8z2l8{width:var(--width);height:100%;background:rgb(184, 244, 166);background:linear-gradient(0deg, rgb(184, 244, 166) 0%, rgb(86, 170, 58) 30%, rgb(86, 170, 58) 50%, rgb(86, 170, 58) 70%, rgb(184, 244, 166) 100%);text-align:center;border-radius:2px}")}function F0(t){let e,n,i,r,c,s,l,a,o;return{c(){e=v("div"),n=v("div"),n.innerHTML='<span class="svelte-v8z2l8">MONSTER 2</span> <span class="svelte-v8z2l8">Lv 5</span>',i=O(),r=v("div"),c=v("div"),s=v("span"),s.textContent="HP",l=O(),a=v("div"),o=v("div"),m(n,"class","name-lvl svelte-v8z2l8"),m(s,"class","svelte-v8z2l8"),m(o,"class","progressbar svelte-v8z2l8"),J(o,"--width",t[1]+"%"),m(a,"class","progressbar-wrapper svelte-v8z2l8"),m(c,"class","hp svelte-v8z2l8"),m(r,"class","status svelte-v8z2l8"),m(e,"class","enemy-info svelte-v8z2l8"),R(e,"opened",t[0])},m(u,f){N(u,e,f),b(e,n),b(e,i),b(e,r),b(r,c),b(c,s),b(c,l),b(c,a),b(a,o)},p(u,[f]){f&2&&J(o,"--width",u[1]+"%"),f&1&&R(e,"opened",u[0])},i:T,o:T,d(u){u&&j(e)}}}let R0=20,T0=20;function B0(t,e,n){let i,{opened:r}=e,{monster:c}=e;return t.$$set=s=>{"opened"in s&&n(0,r=s.opened),"monster"in s&&n(2,c=s.monster)},n(1,i=T0*100/R0),[r,i,c]}class Ue extends ne{constructor(e){super(),ee(this,e,B0,F0,X,{opened:0,monster:2},P0)}get opened(){return this.$$.ctx[0]}set opened(e){this.$$set({opened:e}),M()}get monster(){return this.$$.ctx[2]}set monster(e){this.$$set({monster:e}),M()}}te(Ue,{opened:{},monster:{}},[],[],!0);function H0(t){ce(t,"svelte-hx8zpy",".battleStart.svelte-hx8zpy{opacity:0;visibility:hidden;background:#000000;height:100dvh;width:100dvw;position:absolute;top:0;left:0;transition:opacity 0.5s ease-in-out;z-index:2}.battleStart.animate.svelte-hx8zpy{visibility:visible;animation:svelte-hx8zpy-animate 2s ease-in-out}.battleStart.hide.svelte-hx8zpy{visibility:hidden;opacity:0}@keyframes svelte-hx8zpy-animate{0%{opacity:1}20%{opacity:0}40%{opacity:1}60%{opacity:0}80%{opacity:1}100%{opacity:0}}")}function D0(t){let e,n,i,r,c,s,l,a,o,u,f,_,$;function g(p){t[5](p)}let A={};t[0]!==void 0&&(A.opened=t[0]),e=new De({props:A}),C.push(()=>H(e,"opened",g));function I(p){t[6](p)}function y(p){t[7](p)}let k={};t[0]!==void 0&&(k.opened=t[0]),t[2]!==void 0&&(k.monster=t[2]),r=new He({props:k}),C.push(()=>H(r,"opened",I)),C.push(()=>H(r,"monster",y));function h(p){t[8](p)}function S(p){t[9](p)}let L={};return t[0]!==void 0&&(L.opened=t[0]),t[1]!==void 0&&(L.monster=t[1]),a=new Ue({props:L}),C.push(()=>H(a,"opened",h)),C.push(()=>H(a,"monster",S)),{c(){ae(e.$$.fragment),i=O(),ae(r.$$.fragment),l=O(),ae(a.$$.fragment),f=O(),_=v("div"),_.innerHTML="",m(_,"class","battleStart svelte-hx8zpy"),R(_,"hide",t[0]),R(_,"animate",t[3])},m(p,E){V(e,p,E),N(p,i,E),V(r,p,E),N(p,l,E),V(a,p,E),N(p,f,E),N(p,_,E),$=!0},p(p,[E]){const ge={};!n&&E&1&&(n=!0,ge.opened=p[0],B(()=>n=!1)),e.$set(ge);const ue={};!c&&E&1&&(c=!0,ue.opened=p[0],B(()=>c=!1)),!s&&E&4&&(s=!0,ue.monster=p[2],B(()=>s=!1)),r.$set(ue);const de={};!o&&E&1&&(o=!0,de.opened=p[0],B(()=>o=!1)),!u&&E&2&&(u=!0,de.monster=p[1],B(()=>u=!1)),a.$set(de),(!$||E&1)&&R(_,"hide",p[0]),(!$||E&8)&&R(_,"animate",p[3])},i(p){$||(U(e.$$.fragment,p),U(r.$$.fragment,p),U(a.$$.fragment,p),$=!0)},o(p){Y(e.$$.fragment,p),Y(r.$$.fragment,p),Y(a.$$.fragment,p),$=!1},d(p){p&&(j(i),j(l),j(f),j(_)),Q(e,p),Q(r,p),Q(a,p)}}}function U0(t,e,n){var $;let{opened:i}=e,{battleStart:r}=e,{opponent:c}=e,{player:s}=e,{currentMonster:l=($=s==null?void 0:s.monsters)==null?void 0:$.at(0)}=e;function a(g){i=g,n(0,i)}function o(g){i=g,n(0,i)}function u(g){l=g,n(2,l)}function f(g){i=g,n(0,i)}function _(g){c=g,n(1,c)}return t.$$set=g=>{"opened"in g&&n(0,i=g.opened),"battleStart"in g&&n(3,r=g.battleStart),"opponent"in g&&n(1,c=g.opponent),"player"in g&&n(4,s=g.player),"currentMonster"in g&&n(2,l=g.currentMonster)},[i,c,l,r,s,a,o,u,f,_]}class Ze extends ne{constructor(e){super(),ee(this,e,U0,D0,X,{opened:0,battleStart:3,opponent:1,player:4,currentMonster:2},H0)}get opened(){return this.$$.ctx[0]}set opened(e){this.$$set({opened:e}),M()}get battleStart(){return this.$$.ctx[3]}set battleStart(e){this.$$set({battleStart:e}),M()}get opponent(){return this.$$.ctx[1]}set opponent(e){this.$$set({opponent:e}),M()}get player(){return this.$$.ctx[4]}set player(e){this.$$set({player:e}),M()}get currentMonster(){return this.$$.ctx[2]}set currentMonster(e){this.$$set({currentMonster:e}),M()}}te(Ze,{opened:{},battleStart:{},opponent:{},player:{},currentMonster:{}},[],[],!0);function Z0(t){ce(t,"svelte-1cbbcxy",'.menu.svelte-1cbbcxy.svelte-1cbbcxy{position:absolute;top:0;right:-20dvw;width:20dvw;font-size:36px;background-color:#FFFFFF;z-index:3;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;transition:right 0.3s ease-in-out;border:3px solid #1e1e1e;border-radius:16px}.menu.svelte-1cbbcxy ul.svelte-1cbbcxy{box-shadow:inset #009688 0 0 0 5px, inset #059c8e 0 0 0 1px, inset #0cab9c 0 0 0 10px, inset #1fbdae 0 0 0 11px, inset #8ce9ff 0 0 0 16px, inset #48e4d6 0 0 0 17px, inset #e5f9f7 0 0 0 21px, inset #bfecf7 0 0 0 22px;border-radius:12px;list-style:none;padding:12px 32px;margin:0;display:flex;flex-direction:column;height:100%;width:100%;align-items:center}.menu.svelte-1cbbcxy ul li.svelte-1cbbcxy{font-size:4rem;margin:1rem 0;text-align:center;cursor:pointer;flex-grow:1;width:100%;height:100%;min-height:60px;display:flex;align-items:center;justify-content:center}.menu.svelte-1cbbcxy ul li:hover .svelte-1cbbcxy:before{content:"";width:0;height:0;border-top:20px solid transparent;border-bottom:20px solid transparent;border-left:20px solid #262626;position:absolute;left:40px}.menu.svelte-1cbbcxy ul li button.svelte-1cbbcxy{background:none;border:none;font-size:inherit;font-family:inherit;cursor:inherit;outline:none;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.menu.svelte-1cbbcxy ul li button .svelte-1cbbcxy:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%}.menu.open.svelte-1cbbcxy.svelte-1cbbcxy{opacity:1;pointer-events:all;right:0}')}function q0(t){let e;return{c(){e=v("div"),e.innerHTML='<ul class="svelte-1cbbcxy"><li class="svelte-1cbbcxy"><button tabindex="0" class="svelte-1cbbcxy">Pokedex</button></li> <li class="svelte-1cbbcxy"><button class="svelte-1cbbcxy">Pokemon</button></li> <li class="svelte-1cbbcxy"><button class="svelte-1cbbcxy">Bag</button></li> <li class="svelte-1cbbcxy"><button class="svelte-1cbbcxy">Trainer</button></li> <li class="svelte-1cbbcxy"><button class="svelte-1cbbcxy">Save</button></li> <li class="svelte-1cbbcxy"><button class="svelte-1cbbcxy">Options</button></li> <li class="svelte-1cbbcxy"><button class="svelte-1cbbcxy">Credits</button></li></ul>',m(e,"class","menu svelte-1cbbcxy"),R(e,"open",t[0])},m(n,i){N(n,e,i)},p(n,[i]){i&1&&R(e,"open",n[0])},i:T,o:T,d(n){n&&j(e)}}}function J0(t,e,n){let{menuOpened:i}=e;return t.$$set=r=>{"menuOpened"in r&&n(0,i=r.menuOpened)},[i]}class qe extends ne{constructor(e){super(),ee(this,e,J0,q0,X,{menuOpened:0},Z0)}get menuOpened(){return this.$$.ctx[0]}set menuOpened(e){this.$$set({menuOpened:e}),M()}}te(qe,{menuOpened:{}},[],[],!0);function W0(t){let e,n,i,r,c,s,l,a,o,u;function f(h){t[6](h)}function _(h){t[7](h)}function $(h){t[8](h)}function g(h){t[9](h)}let A={};t[0]!==void 0&&(A.opened=t[0]),t[2]!==void 0&&(A.battleStart=t[2]),t[3].currentMonster!==void 0&&(A.opponent=t[3].currentMonster),t[4]!==void 0&&(A.player=t[4]),e=new Ze({props:A}),C.push(()=>H(e,"opened",f)),C.push(()=>H(e,"battleStart",_)),C.push(()=>H(e,"opponent",$)),C.push(()=>H(e,"player",g));function I(h){t[10](h)}function y(h){t[11](h)}let k={};return t[1]!==void 0&&(k.menuOpened=t[1]),t[4]!==void 0&&(k.player=t[4]),l=new qe({props:k}),C.push(()=>H(l,"menuOpened",I)),C.push(()=>H(l,"player",y)),{c(){ae(e.$$.fragment),s=O(),ae(l.$$.fragment)},m(h,S){V(e,h,S),N(h,s,S),V(l,h,S),u=!0},p(h,[S]){const L={};!n&&S&1&&(n=!0,L.opened=h[0],B(()=>n=!1)),!i&&S&4&&(i=!0,L.battleStart=h[2],B(()=>i=!1)),!r&&S&8&&(r=!0,L.opponent=h[3].currentMonster,B(()=>r=!1)),!c&&S&16&&(c=!0,L.player=h[4],B(()=>c=!1)),e.$set(L);const p={};!a&&S&2&&(a=!0,p.menuOpened=h[1],B(()=>a=!1)),!o&&S&16&&(o=!0,p.player=h[4],B(()=>o=!1)),l.$set(p)},i(h){u||(U(e.$$.fragment,h),U(l.$$.fragment,h),u=!0)},o(h){Y(e.$$.fragment,h),Y(l.$$.fragment,h),u=!1},d(h){h&&j(s),Q(e,h),Q(l,h)}}}const Z=12;let Y0=20;function G0(t,e,n){let{opened:i=!1}=e,{menuOpened:r=!1}=e,{battleStart:c=!1}=e,{currentMap:s=S0}=e,{canvas:l}=e;const a=l.getContext("2d");l.width=window.innerWidth,l.height=window.innerHeight;let{character:o}=e;const u=[s.background,s.foreground,...s.boundaries,...s.battleZones],f={initiated:!1};function _(){const w=window.requestAnimationFrame(_);a.fillStyle="black",a.fillRect(0,0,l.width,l.height),s.background.draw(a,l),o.draw(a),s.foreground&&s.foreground.draw(a,l);let D=!0;if(n(4,o.moving=!1,o),!f.initiated&&!r){if(P.down.pressed||P.up.pressed||P.left.pressed||P.right.pressed)for(let x=0;x<s.battleZones.length;x++){const z=s.battleZones[x],Ge=Math.max(0,Math.min(o.position.x+o.sprite.width,z.position.x+z.width)-Math.max(o.position.x,z.position.x))*Math.max(0,Math.min(o.position.y+o.sprite.height,z.position.y+z.height)-Math.max(o.position.y,z.position.y))/(o.sprite.width*o.sprite.height);if(fe(new q(o.position),z)&&Ge>=.5&&Math.random()<.01){let Ke=s.randomMonster(l);f.initiated=!0,window.cancelAnimationFrame(w),$(Ke);break}}let G=new q(o.position);if(P.down.pressed&&W==="ArrowDown"){for(let x=0;x<s.boundaries.length;x++){let z=s.boundaries[x];if(fe(G,new q(new F(z.position.x,z.position.y-Z)))){D=!1;break}}n(4,o.moving=!0,o),n(4,o.direction="DOWN",o),D&&u.forEach(x=>{x.position.y-=Z})}if(P.up.pressed&&W==="ArrowUp"){for(let x=0;x<s.boundaries.length;x++){let z=s.boundaries[x];if(fe(G,new q(new F(z.position.x,z.position.y+Z)))){D=!1;break}}n(4,o.moving=!0,o),n(4,o.direction="UP",o),D&&u.forEach(x=>{x.position.y+=Z})}if(P.left.pressed&&W==="ArrowLeft"){for(let x=0;x<s.boundaries.length;x++){let z=s.boundaries[x];if(fe(G,new q(new F(z.position.x+Z,z.position.y)))){D=!1;break}}n(4,o.moving=!0,o),n(4,o.direction="LEFT",o),D&&u.forEach(x=>{x.position.x+=Z})}if(P.right.pressed&&W==="ArrowRight"){for(let x=0;x<s.boundaries.length;x++){let z=s.boundaries[x];if(fe(G,new q(new F(z.position.x-Z,z.position.y)))){D=!1;break}}n(4,o.moving=!0,o),n(4,o.direction="RIGHT",o),D&&u.forEach(x=>{x.position.x-=Z})}}}function $(w){g={...w.position},A={...o.position},n(2,c=!0),setTimeout(()=>{n(2,c=!1),n(0,i=!0),S()},2e3)}let g=new F(0,0),A=new F(0,0),I=0,y=Date.now(),k=1e3/Y0,h;function S(){var G,x,z;if(h=window.requestAnimationFrame(S),!i){window.cancelAnimationFrame(h),f.initiated=!1,_();return}let w=Date.now(),D=w-y;D>k&&(y=w-D%k,a.fillStyle="black",a.fillRect(0,0,l.width,l.height),E0.draw(a,l),(G=s.currentMonster)==null||G.draw(a),(x=o.monsters.at(0))==null||x.draw(a,l),(z=s.currentMonster)!=null&&z.position&&(I<10?(I++,n(3,s.currentMonster.position.y=g.y-I,s),o.monsters.at(0).position.y=A.y+I):(I=0,n(3,s.currentMonster.position.y=g.y,s),o.monsters.at(0).position.y=A.y)))}L(),_();function L(){window.addEventListener("keydown",A0()),window.addEventListener("keyup",M0()),window.addEventListener("keydown",p)}function p(w){w.key==="Escape"&&n(1,r=!r)}function E(w){i=w,n(0,i)}function ge(w){c=w,n(2,c)}function ue(w){t.$$.not_equal(s.currentMonster,w)&&(s.currentMonster=w,n(3,s))}function de(w){o=w,n(4,o)}function We(w){r=w,n(1,r)}function Ye(w){o=w,n(4,o)}return t.$$set=w=>{"opened"in w&&n(0,i=w.opened),"menuOpened"in w&&n(1,r=w.menuOpened),"battleStart"in w&&n(2,c=w.battleStart),"currentMap"in w&&n(3,s=w.currentMap),"canvas"in w&&n(5,l=w.canvas),"character"in w&&n(4,o=w.character)},[i,r,c,s,o,l,E,ge,ue,de,We,Ye]}class Je extends ne{constructor(e){super(),ee(this,e,G0,W0,X,{opened:0,menuOpened:1,battleStart:2,currentMap:3,canvas:5,character:4})}get opened(){return this.$$.ctx[0]}set opened(e){this.$$set({opened:e}),M()}get menuOpened(){return this.$$.ctx[1]}set menuOpened(e){this.$$set({menuOpened:e}),M()}get battleStart(){return this.$$.ctx[2]}set battleStart(e){this.$$set({battleStart:e}),M()}get currentMap(){return this.$$.ctx[3]}set currentMap(e){this.$$set({currentMap:e}),M()}get canvas(){return this.$$.ctx[5]}set canvas(e){this.$$set({canvas:e}),M()}get character(){return this.$$.ctx[4]}set character(e){this.$$set({character:e}),M()}}te(Je,{opened:{type:"Boolean"},menuOpened:{type:"Boolean"},battleStart:{type:"Boolean"},currentMap:{},canvas:{},character:{}},[],[],!0);class K0{constructor(e,n,i,r,c,s,l,a,o){d(this,"id");d(this,"name");d(this,"types");d(this,"abilities");d(this,"baseStats");d(this,"evolution");d(this,"currentStats");d(this,"ivs");d(this,"evs");d(this,"currentAbility");d(this,"moves");d(this,"sprites");d(this,"position");this.id=e,this.name=n,this.types=i,this.abilities=r,this.baseStats=c,this.evolution=s,this.currentStats=this.baseStats,this.ivs=new Oe,this.evs=new Oe,this.currentAbility=a||this.abilities[0],this.moves=o||[],this.sprites=l,this.position=new F(0,0)}draw(e,n){}}class Oe{constructor(e,n,i,r,c,s){d(this,"HP");d(this,"attack");d(this,"defense");d(this,"specialAttack");d(this,"specialDefense");d(this,"speed");this.HP=e||0,this.attack=n||0,this.defense=i||0,this.specialAttack=r||0,this.specialDefense=c||0,this.speed=s||0}}function V0(t){ce(t,"svelte-1ryb1u7",'.loading.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7{display:flex;justify-content:center;align-items:center;flex-direction:column;height:100dvh}.loading.ready.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7{opacity:0.2}.u-swing.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7{animation:svelte-1ryb1u7-swing 3000ms infinite}@keyframes svelte-1ryb1u7-swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.o-pokeball.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7{width:120px;height:120px;border-radius:120px;border:solid 4.8px black;position:relative;background:linear-gradient(to bottom, #EEEEEE 0%, #FFFFFF 100%);margin:10px auto}.o-pokeball.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7:before,.o-pokeball.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7:after{content:"";display:block}.o-pokeball.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7,.o-pokeball.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7:before,.o-pokeball.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7:after{transition:all 600ms cubic-bezier(0.67, 0.4, 0.36, 0.75)}.o-pokeball.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7:before{width:120px;height:57.6px;border-bottom:solid 4.8px black;border-radius:60px 60px 0 0;background:linear-gradient(to bottom, #d10000 0%, #ff0000 50%)}.o-pokeball.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7:after{content:"";width:24px;height:24px;background:linear-gradient(to bottom, #fff 0%, #ccc 100%);position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);border-radius:50%;box-shadow:0 0 0 2.4px black, 0 0 0 4.8px #ddd, 0 0 0 8.5714285714px black, 0 0 12px 7.0588235294px rgba(0, 0, 0, 0.4)}.buttons.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:120px;position:absolute;left:calc(50dvw - 100px);top:calc(50dvh - 40px)}.buttons.svelte-1ryb1u7 .letsgo.svelte-1ryb1u7.svelte-1ryb1u7{position:relative}.buttons.svelte-1ryb1u7 .letsgo .pika.svelte-1ryb1u7.svelte-1ryb1u7{width:200px;height:200px;position:absolute;bottom:0;left:0;z-index:1}.buttons.svelte-1ryb1u7 .letsgo .start-btn.svelte-1ryb1u7.svelte-1ryb1u7{width:200px;height:80px;border-radius:16px;position:relative;z-index:2;font-family:pokemon, serif;font-size:36px;box-shadow:inset #009688 0 0 0 5px, inset #059c8e 0 0 0 1px, inset #0cab9c 0 0 0 10px, inset #1fbdae 0 0 0 11px, inset #8ce9ff 0 0 0 16px, inset #48e4d6 0 0 0 17px, inset #e5f9f7 0 0 0 21px, inset #bfecf7 0 0 0 22px;text-shadow:3px 3px 1px #bfecf7;cursor:pointer}.buttons.svelte-1ryb1u7 .letsgo .start-btn.svelte-1ryb1u7.svelte-1ryb1u7:hover{color:#fff;box-shadow:inset #009688 0 0 0 5px;text-shadow:none;font-weight:bold;background:#009688}.buttons.svelte-1ryb1u7 .letsgo .start-btn.svelte-1ryb1u7:hover+.pika.svelte-1ryb1u7{animation:svelte-1ryb1u7-bounce 1s infinite}@keyframes svelte-1ryb1u7-bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(0.215, 0.61, 0.355, 1);animation-timing-function:cubic-bezier(0.215, 0.61, 0.355, 1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-transform:translate3d(0, -30px, 0);transform:translate3d(0, -30px, 0)}40%,43%,70%{-webkit-animation-timing-function:cubic-bezier(0.755, 0.05, 0.855, 0.06);animation-timing-function:cubic-bezier(0.755, 0.05, 0.855, 0.06)}70%{-webkit-transform:translate3d(0, -15px, 0);transform:translate3d(0, -15px, 0)}90%{-webkit-transform:translate3d(0, -4px, 0);transform:translate3d(0, -4px, 0)}}#preview.svelte-1ryb1u7.svelte-1ryb1u7.svelte-1ryb1u7{display:flex;flex-wrap:wrap;justify-content:center}')}function Q0(t){let e,n,i,r,c,s,l,a,o=t[2]&&Ie(t);return{c(){e=v("div"),n=v("div"),i=O(),r=v("span"),r.textContent="Gotta catch em all...",c=O(),s=v("div"),s.innerHTML="",l=O(),o&&o.c(),a=n0(),m(n,"class","o-pokeball c-loader u-swing svelte-1ryb1u7"),m(s,"id","preview"),m(s,"class","svelte-1ryb1u7"),m(e,"class","loading svelte-1ryb1u7"),R(e,"ready",t[2])},m(u,f){N(u,e,f),b(e,n),b(e,i),b(e,r),b(e,c),b(e,s),t[8](s),N(u,l,f),o&&o.m(u,f),N(u,a,f)},p(u,f){f&4&&R(e,"ready",u[2]),u[2]?o?o.p(u,f):(o=Ie(u),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},i:T,o:T,d(u){u&&(j(e),j(l),j(a)),t[8](null),o&&o.d(u)}}}function X0(t){let e,n,i,r;function c(a){t[6](a)}function s(a){t[7](a)}let l={};return t[0]!==void 0&&(l.canvas=t[0]),t[1]!==void 0&&(l.character=t[1]),e=new Je({props:l}),C.push(()=>H(e,"canvas",c)),C.push(()=>H(e,"character",s)),{c(){ae(e.$$.fragment)},m(a,o){V(e,a,o),r=!0},p(a,o){const u={};!n&&o&1&&(n=!0,u.canvas=a[0],B(()=>n=!1)),!i&&o&2&&(i=!0,u.character=a[1],B(()=>i=!1)),e.$set(u)},i(a){r||(U(e.$$.fragment,a),r=!0)},o(a){Y(e.$$.fragment,a),r=!1},d(a){Q(e,a)}}}function Ie(t){let e,n,i,r,c,s,l,a,o,u=t[5]&&et(t);return{c(){e=v("div"),u&&u.c(),n=O(),i=v("div"),r=v("button"),r.textContent="New game!",c=O(),s=v("img"),m(r,"class","start-btn svelte-1ryb1u7"),m(s,"class","pika svelte-1ryb1u7"),m(s,"alt","pikachu"),Ce(s.src,l="src/assets/monsters/heartgold-soulsilver/25.png")||m(s,"src",l),m(i,"class","letsgo svelte-1ryb1u7"),m(e,"class","buttons svelte-1ryb1u7")},m(f,_){N(f,e,_),u&&u.m(e,null),b(e,n),b(e,i),b(i,r),b(i,c),b(i,s),a||(o=Me(r,"click",t[10]),a=!0)},p(f,_){f[5]&&u.p(f,_)},d(f){f&&j(e),u&&u.d(),a=!1,o()}}}function et(t){let e,n,i,r,c,s,l;return{c(){e=v("div"),n=v("button"),n.textContent="Continue!",i=O(),r=v("img"),m(n,"class","start-btn svelte-1ryb1u7"),m(r,"class","pika svelte-1ryb1u7"),m(r,"alt","Evoli"),Ce(r.src,c="src/assets/monsters/heartgold-soulsilver/133.png")||m(r,"src",c),m(e,"class","letsgo svelte-1ryb1u7")},m(a,o){N(a,e,o),b(e,n),b(e,i),b(e,r),s||(l=Me(n,"click",t[9]),s=!0)},p:T,d(a){a&&j(e),s=!1,l()}}}function tt(t){let e,n,i,r,c;const s=[X0,Q0],l=[];function a(o,u){return o[2]&&o[3]?0:1}return e=a(t),n=l[e]=s[e](t),{c(){n.c(),i=O(),r=v("canvas")},m(o,u){l[e].m(o,u),N(o,i,u),N(o,r,u),t[11](r),c=!0},p(o,[u]){let f=e;e=a(o),e===f?l[e].p(o,u):(u0(),Y(l[f],1,1,()=>{l[f]=null}),d0(),n=l[e],n?n.p(o,u):(n=l[e]=s[e](o),n.c()),U(n,1),n.m(i.parentNode,i))},i(o){c||(U(n),c=!0)},o(o){Y(n),c=!1},d(o){o&&(j(i),j(r)),l[e].d(o),t[11](null)}}}function nt(t,e,n){let{canvas:i}=e,{player:r}=e,{ready:c=!1}=e,s=[],l=!1,a,o;localStorage.getItem("pokedex")&&(s=JSON.parse(localStorage.getItem("pokedex"))),localStorage.getItem("player")&&(r=JSON.parse(localStorage.getItem("player"))),s.length>0&&r?(s.forEach(y=>{setTimeout(()=>{const k=new Image;k.src=`/src/assets/monsters/heartgold-soulsilver/${y.id}.png`,o.appendChild(k)},100)}),c=!0):fetch("/src/assets/data/pokedex-gen1.json").then(y=>y.json()).then(y=>{y.forEach(k=>{const h=new Image;h.src=`/src/assets/monsters/heartgold-soulsilver/${k.id}.png`;const S=new Image;S.src=`/src/assets/monsters/heartgold-soulsilver/back/${k.id}.png`;const L=new Image;L.src=`/src/assets/monsters/heartgold-soulsilver/shiny/${k.id}.png`,Promise.all(Array.from([h,S,L]).map(p=>new Promise(E=>{p.onload=p.onerror=E}))).then(()=>{setTimeout(()=>{const p=new K0(k.id,k.name.english,k.type,k.profile.ability,k.base,k.evolution,{front:h,back:S,shiny:L},void 0,["Tackle"]);s.push(p),o.appendChild(h),s.length===y.length&&(localStorage.setItem("pokedex",JSON.stringify(s)),u())},100)})})});function u(){console.log("init player");let y=new Image;y.src="/src/assets/sprites/hero_male_front.png";let k=new Image;k.src="/src/assets/sprites/hero_male_back.png";let h=new Image;h.src="/src/assets/sprites/hero_male_left.png";let S=new Image;S.src="/src/assets/sprites/hero_male_right.png";let L=new Image;k.src="/src/assets/sprites/hero_male_back.png",Promise.all(Array.from([y,k,h,S,L].filter(p=>!p.complete)).map(p=>new Promise(E=>{p.onload=p.onerror=E}))).then(()=>{n(1,r=new b0("Kaiser","MALE",{front:y,back:k,left:h,right:S,battle:L})),localStorage.setItem("player",JSON.stringify(r)),n(2,c=!0)})}function f(y){i=y,n(0,i)}function _(y){r=y,n(1,r)}function $(y){C[y?"unshift":"push"](()=>{o=y,n(4,o)})}const g=()=>n(3,l=!0),A=()=>n(3,l=!0);function I(y){C[y?"unshift":"push"](()=>{i=y,n(0,i)})}return t.$$set=y=>{"canvas"in y&&n(0,i=y.canvas),"player"in y&&n(1,r=y.player),"ready"in y&&n(2,c=y.ready)},[i,r,c,l,o,a,f,_,$,g,A,I]}class st extends ne{constructor(e){super(),ee(this,e,nt,tt,X,{canvas:0,player:1,ready:2},V0)}get canvas(){return this.$$.ctx[0]}set canvas(e){this.$$set({canvas:e}),M()}get player(){return this.$$.ctx[1]}set player(e){this.$$set({player:e}),M()}get ready(){return this.$$.ctx[2]}set ready(e){this.$$set({ready:e}),M()}}customElements.define("open-mon",te(st,{canvas:{},player:{},ready:{type:"Boolean"}},[],[],!0));
