import{p as fe,h as c,A as ge,o as ye,a1 as we,a as i,j as s,m as _e,e as E,K as ke,t as x,v as V,i as e,b as M,c as f,f as xe,l as g,k as I,r as b,q as Pe,n as j,s as r,d as Se}from"./threlte-Cn4q_HKN.js";import"./legacy-Dyt435st.js";import{T as Ae,A as Te,a as Ce,b as Le,d as Ee,e as Me}from"./other-B-3BVWbs.js";import{w as Ie}from"./main-Dd3ZIU7o.js";import{a as je}from"./vendor-CHMVvq2h.js";import"./threejs-D-3vx0wo.js";import"./gsap-DDlvirwQ.js";/* empty css            */var Oe=g('<button class="close-btn svelte-1b7ihpw">Close</button>'),ze=g('<option class="svelte-1b7ihpw"> </option>'),qe=g("<optgroup></optgroup>"),Ne=g('<option class="svelte-1b7ihpw"> </option>'),De=g('<div class="animation-test-page svelte-1b7ihpw"><header class="test-header svelte-1b7ihpw"><h1 class="svelte-1b7ihpw">Animation Test Page</h1> <!></header> <div class="controls-panel svelte-1b7ihpw"><div class="control-group svelte-1b7ihpw"><label for="category-select" class="svelte-1b7ihpw">Animation:</label> <select id="category-select" class="svelte-1b7ihpw"></select></div> <div class="control-group svelte-1b7ihpw"><label for="type-select" class="svelte-1b7ihpw">Type:</label> <select id="type-select" class="svelte-1b7ihpw"></select></div> <div class="control-group buttons svelte-1b7ihpw"><button class="play-btn svelte-1b7ihpw"> </button> <button> </button></div></div> <div class="battle-scene svelte-1b7ihpw"><div class="scene-background svelte-1b7ihpw"></div> <div class="ally-sprite pokemon-sprite svelte-1b7ihpw" style="bottom: 80px; left: 100px;"><img alt="Ally Pokemon" class="svelte-1b7ihpw"/></div> <div class="enemy-sprite pokemon-sprite svelte-1b7ihpw" style="top: 60px; right: 100px;"><img alt="Enemy Pokemon" class="svelte-1b7ihpw"/></div></div> <div class="info-panel svelte-1b7ihpw"><p class="svelte-1b7ihpw">Selected: <strong> </strong> </p> <p class="svelte-1b7ihpw">Use the controls above to test different animation categories with different type colors.</p></div></div>');function Ge(P,u){fe(u,!0);let n,l=c(null),d=c(!1),y=c(!1),h=null;const S=je.resolve(Ie);let W=c(ge([]));const X=25,Z=6;let w=c("punch"),_=c("normal");const $=[{group:"Physical",items:["punch","kick","slash","claw","bite","tackle","chop"]},{group:"Special",items:["beam","projectile","burst","wave","drain"]},{group:"Status",items:["buff","debuff","heal","protect","status-condition"]},{group:"Other",items:["multi-hit","ohko","field","transform","weather","terrain","size-change"]}],ee=Object.keys(Ae);let A=c(null),T=c(null);function O(t,a){const p=S.entries.find(m=>m.id===t)?.name??"pikachu";return`src/assets/monsters/static/${a?"sprites-back":"sprites"}/${p}.png`}function z(t,a){return{x:t,y:a,z:0,scale:1,opacity:1}}function q(t,a){return{side:t,index:a}}ye(async()=>{n&&(await S.ensureLoaded(),r(W,S.entries.slice(0,151).map(t=>({id:t.id,name:t.name})),!0),r(l,new Te(n),!0),e(l).initialize(),e(l).setLayout("SINGLE"),Ce(e(l)),Le(e(l)),Ee(e(l)),Me(e(l)),te())}),we(()=>{h&&clearInterval(h),e(l)?.cancelAll()});function te(){const t=n?.querySelector(".ally-sprite"),a=n?.querySelector(".enemy-sprite");t&&a&&(r(A,{slot:q("player",0),element:t,homePosition:z(100,300)},!0),r(T,{slot:q("opponent",0),element:a,homePosition:z(400,60)},!0))}async function N(){if(!e(l)||!e(A)||!e(T)||e(d))return;r(d,!0);const a={punch:"mega-punch",kick:"mega-kick",slash:"slash",claw:"scratch",bite:"bite",tackle:"tackle",chop:"karate-chop",beam:"hyper-beam",projectile:"ember",burst:"explosion",wave:"psychic",drain:"giga-drain",buff:"swords-dance",debuff:"growl",heal:"recover",protect:"protect","status-condition":"toxic","multi-hit":"fury-attack",ohko:"fissure",field:"stealth-rock",transform:"transform",weather:"rain-dance",terrain:"electric-terrain","size-change":"growth"}[e(w)]||"tackle",o={attacker:e(A),defender:e(T),moveName:a,moveCategory:ae(e(w)),moveType:e(_)};try{await e(l).playMove(o)}catch(p){console.error("Animation error:",p)}r(d,!1)}function ae(t){const a=["punch","kick","slash","claw","bite","tackle","chop"],o=["beam","projectile","burst","wave","drain"];return a.includes(t)?"physical":o.includes(t)?"special":"status"}function se(){r(y,!e(y)),e(y)?h=setInterval(()=>{e(d)||N()},2e3):h&&(clearInterval(h),h=null)}var D=De(),G=s(D),oe=i(s(G),2);{var ie=t=>{var a=Oe();M("click",a,function(...o){u.onClose?.apply(this,o)}),f(t,a)};_e(oe,t=>{u.onClose&&t(ie)})}var K=i(G,2),R=s(K),U=i(s(R),2);E(U,21,()=>$,I,(t,a)=>{var o=qe();E(o,21,()=>e(a).items,I,(p,v)=>{var m=ze(),be=s(m),Q={};x(()=>{b(be,e(v)),Q!==(Q=e(v))&&(m.value=(m.__value=e(v))??"")}),f(p,m)}),x(()=>j(o,"label",e(a).group)),f(t,o)});var Y=i(R,2),B=i(s(Y),2);E(B,21,()=>ee,I,(t,a)=>{var o=Ne(),p=s(o),v={};x(()=>{b(p,e(a)),v!==(v=e(a))&&(o.value=(o.__value=e(a))??"")}),f(t,o)});var le=i(Y,2),k=s(le),re=s(k),C=i(k,2);let F;var ne=s(C),L=i(K,2),H=i(s(L),2),ce=s(H),pe=i(H,2),ve=s(pe);ke(L,t=>n=t,()=>n);var ue=i(L,2),de=s(ue),J=i(s(de)),he=s(J),me=i(J);x((t,a)=>{k.disabled=e(d),b(re,e(d)?"Playing...":"Play"),F=Pe(C,1,"loop-btn svelte-1b7ihpw",null,F,{active:e(y)}),b(ne,e(y)?"Stop Loop":"Loop"),j(ce,"src",t),j(ve,"src",a),b(he,e(w)),b(me,` (${e(_)??""} type)`)},[()=>O(X,!0),()=>O(Z,!1)]),V(U,()=>e(w),t=>r(w,t)),V(B,()=>e(_),t=>r(_,t)),M("click",k,N),M("click",C,se),f(P,D),xe()}Se(["click"]);var Ke=g('<div class="animations-tab-wrapper svelte-lhv6ii"><!></div>');function Ve(P){var u=Ke(),n=s(u);Ge(n,{}),f(P,u)}export{Ve as default};
