import{E as m}from"./main-Cwa9llGS.js";const y={1:"normal",2:"fighting",3:"flying",4:"poison",5:"ground",6:"rock",7:"bug",8:"ghost",9:"steel",10:"fire",11:"water",12:"grass",13:"electric",14:"psychic",15:"ice",16:"dragon",17:"dark",18:"fairy"},u={1:"no-damage",2:"physical",3:"special"},v={1:"specific-move",2:"selected-pokemon-me-first",3:"ally",4:"users-field",5:"user-or-ally",6:"opponents-field",7:"user",8:"random-opponent",9:"all-other-pokemon",10:"selected-pokemon",11:"all-opponents",12:"entire-field",13:"user-and-allies",14:"all-pokemon",15:"all-allies",16:"fainting-pokemon"};let g=null,d=null,p=null;function e(s){return typeof s=="number"?s:parseInt(s)||0}async function E(){if(g&&d&&p)return;const[s,n,c]=await Promise.all([fetch("/src/assets/data/raw/moves/pokemon-moves.json").then(t=>t.json()),fetch("/src/assets/data/raw/moves/moves.json").then(t=>t.json()),fetch("/src/assets/data/raw/moves/move-effects.json").then(t=>t.json())]);g=s,d=new Map,n.forEach(t=>{d.set(e(t.id),t)}),p=new Map,c.filter(t=>e(t.local_language_id)===9).forEach(t=>{p.set(e(t.move_effect_id),t)})}async function C(s){if(s<=0)return[];await E();const n=g.filter(a=>e(a.pokemon_id)===s);if(n.length===0)return[];const c=new Map;n.forEach(a=>{const r=e(a.move_id),f=e(a.level),o=e(a.pokemon_move_method_id),i=c.get(r);(!i||f>i.level)&&c.set(r,{level:f,method:o})});const t=[];return c.forEach(({level:a,method:r},f)=>{const o=d.get(f);if(!o)return;const i=e(o.type_id),_=e(o.damage_class_id),k=e(o.target_id),I=e(o.effect_id),l=p.get(I),h=l?new m(e(l.move_effect_id),e(l.local_language_id),l.short_effect,l.effect):new m(0,9,"",""),w={id:f,name:o.identifier,type:y[i]||"normal",category:u[_]||"no-damage",power:e(o.power),accuracy:e(o.accuracy),pp:e(o.pp),priority:e(o.priority),target:v[k]||"selected-pokemon",effect:h,effectChance:e(o.effect_chance),description:h.short_effect||"",level:a,method:r};t.push(w)}),t.sort((a,r)=>a.level-r.level||a.name.localeCompare(r.name)),t}async function T(){await E();const s=[];return d.forEach((n,c)=>{const t=e(n.type_id),a=e(n.damage_class_id),r=e(n.target_id),f=e(n.effect_id),o=p.get(f),i=o?new m(e(o.move_effect_id),e(o.local_language_id),o.short_effect,o.effect):new m(0,9,"",""),_={id:c,name:n.identifier,type:y[t]||"normal",category:u[a]||"no-damage",power:e(n.power),accuracy:e(n.accuracy),pp:e(n.pp),priority:e(n.priority),target:v[r]||"selected-pokemon",effect:i,effectChance:e(n.effect_chance),description:i.short_effect||"",level:1,method:1};s.push(_)}),s.sort((n,c)=>n.name.localeCompare(c.name)),s}export{C as a,T as g};
