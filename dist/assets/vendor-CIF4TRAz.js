const H=new WeakMap;function ie(s,i,t,o){return s.reverse().forEach(a=>{o=a(i,t,o)||o}),o}function ae(s,i){return s.reverse().forEach(t=>{const o=t(i);o&&(i=o)}),i}function se(s,i,t,o){if(!Array.isArray(s)||s.length===0)throw new TypeError;if(t!==void 0)return ie(s,i,t,o);if(typeof i=="function")return ae(s,i)}function K(s,i){return H.get(s)&&H.get(s).get(i)}function F(s,i,t){if(i===void 0)throw new TypeError;const o=K(i,t);return o&&o.get(s)}function ue(s,i){const t=H.get(s)||new Map;H.set(s,t);const o=t.get(i)||new Map;return t.set(i,o),o}function U(s,i,t,o){if(o&&!["string","symbol"].includes(typeof o))throw new TypeError;(K(t,o)||ue(t,o)).set(s,i)}function j(s,i,t){return F(s,i,t)?F(s,i,t):Object.getPrototypeOf(i)?j(s,Object.getPrototypeOf(i),t):void 0}function le(s,i){return function(o,a){U(s,i,o,a)}}function fe(s,i,t){return j(s,i,t)}function ce(s,i,t){return F(s,i,t)}function de(s,i,t){return!!F(s,i,t)}function _e(s,i,t){return!!j(s,i,t)}function pe(s,i,t,o){U(s,i,t,o)}const ve={decorate:se,defineMetadata:pe,getMetadata:fe,getOwnMetadata:ce,hasMetadata:_e,hasOwnMetadata:de,metadata:le};Object.assign(Reflect,ve);var O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G={};var Z;function He(){return Z||(Z=1,(function(s){(function(){var i=function(){this.init()};i.prototype={init:function(){var e=this||t;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var n=this||t;if(e=parseFloat(e),n.ctx||m(),typeof e<"u"&&e>=0&&e<=1){if(n._volume=e,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e,t.ctx.currentTime);for(var r=0;r<n._howls.length;r++)if(!n._howls[r]._webAudio)for(var u=n._howls[r]._getSoundIds(),c=0;c<u.length;c++){var p=n._howls[r]._soundById(u[c]);p&&p._node&&(p._node.volume=p._volume*e)}return n}return n._volume},mute:function(e){var n=this||t;n.ctx||m(),n._muted=e,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e?0:n._volume,t.ctx.currentTime);for(var r=0;r<n._howls.length;r++)if(!n._howls[r]._webAudio)for(var u=n._howls[r]._getSoundIds(),c=0;c<u.length;c++){var p=n._howls[r]._soundById(u[c]);p&&p._node&&(p._node.muted=e?!0:p._muted)}return n},stop:function(){for(var e=this||t,n=0;n<e._howls.length;n++)e._howls[n].stop();return e},unload:function(){for(var e=this||t,n=e._howls.length-1;n>=0;n--)e._howls[n].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,m()),e},codecs:function(e){return(this||t)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||t;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var n=new Audio;typeof n.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var n=new Audio;n.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||t,n=null;try{n=typeof Audio<"u"?new Audio:null}catch{return e}if(!n||typeof n.canPlayType!="function")return e;var r=n.canPlayType("audio/mpeg;").replace(/^no$/,""),u=e._navigator?e._navigator.userAgent:"",c=u.match(/OPR\/(\d+)/g),p=c&&parseInt(c[0].split("/")[1],10)<33,f=u.indexOf("Safari")!==-1&&u.indexOf("Chrome")===-1,y=u.match(/Version\/(.*?) /),g=f&&y&&parseInt(y[1],10)<15;return e._codecs={mp3:!!(!p&&(r||n.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!r,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(n.canPlayType('audio/wav; codecs="1"')||n.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(n.canPlayType("audio/x-m4b;")||n.canPlayType("audio/m4b;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!g&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!g&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||t;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var n=function(r){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,e._releaseHtml5Audio(u)}catch{e.noAudio=!0;break}for(var c=0;c<e._howls.length;c++)if(!e._howls[c]._webAudio)for(var p=e._howls[c]._getSoundIds(),f=0;f<p.length;f++){var y=e._howls[c]._soundById(p[f]);y&&y._node&&!y._node._unlocked&&(y._node._unlocked=!0,y._node.load())}e._autoResume();var g=e.ctx.createBufferSource();g.buffer=e._scratchBuffer,g.connect(e.ctx.destination),typeof g.start>"u"?g.noteOn(0):g.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),g.onended=function(){g.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0),document.removeEventListener("keydown",n,!0);for(var A=0;A<e._howls.length;A++)e._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),document.addEventListener("keydown",n,!0),e}},_obtainHtml5Audio:function(){var e=this||t;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var n=new Audio().play();return n&&typeof Promise<"u"&&(n instanceof Promise||typeof n.then=="function")&&n.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var n=this||t;return e._unlocked&&n._html5AudioPool.push(e),n},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!t.usingWebAudio)){for(var n=0;n<e._howls.length;n++)if(e._howls[n]._webAudio){for(var r=0;r<e._howls[n]._sounds.length;r++)if(!e._howls[n]._sounds[r]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var u=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(u,u)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!t.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var t=new i,o=function(e){var n=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}n.init(e)};o.prototype={init:function(e){var n=this;return t.ctx||m(),n._autoplay=e.autoplay||!1,n._format=typeof e.format!="string"?e.format:[e.format],n._html5=e.html5||!1,n._muted=e.mute||!1,n._loop=e.loop||!1,n._pool=e.pool||5,n._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,n._rate=e.rate||1,n._sprite=e.sprite||{},n._src=typeof e.src!="string"?e.src:[e.src],n._volume=e.volume!==void 0?e.volume:1,n._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=e.onend?[{fn:e.onend}]:[],n._onfade=e.onfade?[{fn:e.onfade}]:[],n._onload=e.onload?[{fn:e.onload}]:[],n._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],n._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],n._onpause=e.onpause?[{fn:e.onpause}]:[],n._onplay=e.onplay?[{fn:e.onplay}]:[],n._onstop=e.onstop?[{fn:e.onstop}]:[],n._onmute=e.onmute?[{fn:e.onmute}]:[],n._onvolume=e.onvolume?[{fn:e.onvolume}]:[],n._onrate=e.onrate?[{fn:e.onrate}]:[],n._onseek=e.onseek?[{fn:e.onseek}]:[],n._onunlock=e.onunlock?[{fn:e.onunlock}]:[],n._onresume=[],n._webAudio=t.usingWebAudio&&!n._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&n._preload!=="none"&&n.load(),n},load:function(){var e=this,n=null;if(t.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var u,c;if(e._format&&e._format[r])u=e._format[r];else{if(c=e._src[r],typeof c!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(c),u||(u=/\.([^.]+)$/.exec(c.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&t.codecs(u)){n=e._src[r];break}}if(!n){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=n,e._state="loading",window.location.protocol==="https:"&&n.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new a(e),e._webAudio&&d(e),e},play:function(e,n){var r=this,u=null;if(typeof e=="number")u=e,e=null;else{if(typeof e=="string"&&r._state==="loaded"&&!r._sprite[e])return null;if(typeof e>"u"&&(e="__default",!r._playLock)){for(var c=0,p=0;p<r._sounds.length;p++)r._sounds[p]._paused&&!r._sounds[p]._ended&&(c++,u=r._sounds[p]._id);c===1?e=null:u=null}}var f=u?r._soundById(u):r._inactiveSound();if(!f)return null;if(u&&!e&&(e=f._sprite||"__default"),r._state!=="loaded"){f._sprite=e,f._ended=!1;var y=f._id;return r._queue.push({event:"play",action:function(){r.play(y)}}),y}if(u&&!f._paused)return n||r._loadQueue("play"),f._id;r._webAudio&&t._autoResume();var g=Math.max(0,f._seek>0?f._seek:r._sprite[e][0]/1e3),A=Math.max(0,(r._sprite[e][0]+r._sprite[e][1])/1e3-g),T=A*1e3/Math.abs(f._rate),x=r._sprite[e][0]/1e3,k=(r._sprite[e][0]+r._sprite[e][1])/1e3;f._sprite=e,f._ended=!1;var B=function(){f._paused=!1,f._seek=g,f._start=x,f._stop=k,f._loop=!!(f._loop||r._sprite[e][2])};if(g>=k){r._ended(f);return}var w=f._node;if(r._webAudio){var W=function(){r._playLock=!1,B(),r._refreshBuffer(f);var I=f._muted||r._muted?0:f._volume;w.gain.setValueAtTime(I,t.ctx.currentTime),f._playStart=t.ctx.currentTime,typeof w.bufferSource.start>"u"?f._loop?w.bufferSource.noteGrainOn(0,g,86400):w.bufferSource.noteGrainOn(0,g,A):f._loop?w.bufferSource.start(0,g,86400):w.bufferSource.start(0,g,A),T!==1/0&&(r._endTimers[f._id]=setTimeout(r._ended.bind(r,f),T)),n||setTimeout(function(){r._emit("play",f._id),r._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?W():(r._playLock=!0,r.once("resume",W),r._clearTimer(f._id))}else{var Y=function(){w.currentTime=g,w.muted=f._muted||r._muted||t._muted||w.muted,w.volume=f._volume*t.volume(),w.playbackRate=f._rate;try{var I=w.play();if(I&&typeof Promise<"u"&&(I instanceof Promise||typeof I.then=="function")?(r._playLock=!0,B(),I.then(function(){r._playLock=!1,w._unlocked=!0,n?r._loadQueue():r._emit("play",f._id)}).catch(function(){r._playLock=!1,r._emit("playerror",f._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),f._ended=!0,f._paused=!0})):n||(r._playLock=!1,B(),r._emit("play",f._id)),w.playbackRate=f._rate,w.paused){r._emit("playerror",f._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||f._loop?r._endTimers[f._id]=setTimeout(r._ended.bind(r,f),T):(r._endTimers[f._id]=function(){r._ended(f),w.removeEventListener("ended",r._endTimers[f._id],!1)},w.addEventListener("ended",r._endTimers[f._id],!1))}catch(oe){r._emit("playerror",f._id,oe)}};w.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(w.src=r._src,w.load());var re=window&&window.ejecta||!w.readyState&&t._navigator.isCocoonJS;if(w.readyState>=3||re)Y();else{r._playLock=!0,r._state="loading";var Q=function(){r._state="loaded",Y(),w.removeEventListener(t._canPlayEvent,Q,!1)};w.addEventListener(t._canPlayEvent,Q,!1),r._clearTimer(f._id)}}return f._id},pause:function(e){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(e)}}),n;for(var r=n._getSoundIds(e),u=0;u<r.length;u++){n._clearTimer(r[u]);var c=n._soundById(r[u]);if(c&&!c._paused&&(c._seek=n.seek(r[u]),c._rateSeek=0,c._paused=!0,n._stopFade(r[u]),c._node))if(n._webAudio){if(!c._node.bufferSource)continue;typeof c._node.bufferSource.stop>"u"?c._node.bufferSource.noteOff(0):c._node.bufferSource.stop(0),n._cleanBuffer(c._node)}else(!isNaN(c._node.duration)||c._node.duration===1/0)&&c._node.pause();arguments[1]||n._emit("pause",c?c._id:null)}return n},stop:function(e,n){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(e)}}),r;for(var u=r._getSoundIds(e),c=0;c<u.length;c++){r._clearTimer(u[c]);var p=r._soundById(u[c]);p&&(p._seek=p._start||0,p._rateSeek=0,p._paused=!0,p._ended=!0,r._stopFade(u[c]),p._node&&(r._webAudio?p._node.bufferSource&&(typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),r._cleanBuffer(p._node)):(!isNaN(p._node.duration)||p._node.duration===1/0)&&(p._node.currentTime=p._start||0,p._node.pause(),p._node.duration===1/0&&r._clearSound(p._node))),n||r._emit("stop",p._id))}return r},mute:function(e,n){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(e,n)}}),r;if(typeof n>"u")if(typeof e=="boolean")r._muted=e;else return r._muted;for(var u=r._getSoundIds(n),c=0;c<u.length;c++){var p=r._soundById(u[c]);p&&(p._muted=e,p._interval&&r._stopFade(p._id),r._webAudio&&p._node?p._node.gain.setValueAtTime(e?0:p._volume,t.ctx.currentTime):p._node&&(p._node.muted=t._muted?!0:e),r._emit("mute",p._id))}return r},volume:function(){var e=this,n=arguments,r,u;if(n.length===0)return e._volume;if(n.length===1||n.length===2&&typeof n[1]>"u"){var c=e._getSoundIds(),p=c.indexOf(n[0]);p>=0?u=parseInt(n[0],10):r=parseFloat(n[0])}else n.length>=2&&(r=parseFloat(n[0]),u=parseInt(n[1],10));var f;if(typeof r<"u"&&r>=0&&r<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,n)}}),e;typeof u>"u"&&(e._volume=r),u=e._getSoundIds(u);for(var y=0;y<u.length;y++)f=e._soundById(u[y]),f&&(f._volume=r,n[2]||e._stopFade(u[y]),e._webAudio&&f._node&&!f._muted?f._node.gain.setValueAtTime(r,t.ctx.currentTime):f._node&&!f._muted&&(f._node.volume=r*t.volume()),e._emit("volume",f._id))}else return f=u?e._soundById(u):e._sounds[0],f?f._volume:0;return e},fade:function(e,n,r,u){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"fade",action:function(){c.fade(e,n,r,u)}}),c;e=Math.min(Math.max(0,parseFloat(e)),1),n=Math.min(Math.max(0,parseFloat(n)),1),r=parseFloat(r),c.volume(e,u);for(var p=c._getSoundIds(u),f=0;f<p.length;f++){var y=c._soundById(p[f]);if(y){if(u||c._stopFade(p[f]),c._webAudio&&!y._muted){var g=t.ctx.currentTime,A=g+r/1e3;y._volume=e,y._node.gain.setValueAtTime(e,g),y._node.gain.linearRampToValueAtTime(n,A)}c._startFadeInterval(y,e,n,r,p[f],typeof u>"u")}}return c},_startFadeInterval:function(e,n,r,u,c,p){var f=this,y=n,g=r-n,A=Math.abs(g/.01),T=Math.max(4,A>0?u/A:u),x=Date.now();e._fadeTo=r,e._interval=setInterval(function(){var k=(Date.now()-x)/u;x=Date.now(),y+=g*k,y=Math.round(y*100)/100,g<0?y=Math.max(r,y):y=Math.min(r,y),f._webAudio?e._volume=y:f.volume(y,e._id,!0),p&&(f._volume=y),(r<n&&y<=r||r>n&&y>=r)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,f.volume(r,e._id),f._emit("fade",e._id))},T)},_stopFade:function(e){var n=this,r=n._soundById(e);return r&&r._interval&&(n._webAudio&&r._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(r._interval),r._interval=null,n.volume(r._fadeTo,e),r._fadeTo=null,n._emit("fade",e)),n},loop:function(){var e=this,n=arguments,r,u,c;if(n.length===0)return e._loop;if(n.length===1)if(typeof n[0]=="boolean")r=n[0],e._loop=r;else return c=e._soundById(parseInt(n[0],10)),c?c._loop:!1;else n.length===2&&(r=n[0],u=parseInt(n[1],10));for(var p=e._getSoundIds(u),f=0;f<p.length;f++)c=e._soundById(p[f]),c&&(c._loop=r,e._webAudio&&c._node&&c._node.bufferSource&&(c._node.bufferSource.loop=r,r&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop,e.playing(p[f])&&(e.pause(p[f],!0),e.play(p[f],!0)))));return e},rate:function(){var e=this,n=arguments,r,u;if(n.length===0)u=e._sounds[0]._id;else if(n.length===1){var c=e._getSoundIds(),p=c.indexOf(n[0]);p>=0?u=parseInt(n[0],10):r=parseFloat(n[0])}else n.length===2&&(r=parseFloat(n[0]),u=parseInt(n[1],10));var f;if(typeof r=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,n)}}),e;typeof u>"u"&&(e._rate=r),u=e._getSoundIds(u);for(var y=0;y<u.length;y++)if(f=e._soundById(u[y]),f){e.playing(u[y])&&(f._rateSeek=e.seek(u[y]),f._playStart=e._webAudio?t.ctx.currentTime:f._playStart),f._rate=r,e._webAudio&&f._node&&f._node.bufferSource?f._node.bufferSource.playbackRate.setValueAtTime(r,t.ctx.currentTime):f._node&&(f._node.playbackRate=r);var g=e.seek(u[y]),A=(e._sprite[f._sprite][0]+e._sprite[f._sprite][1])/1e3-g,T=A*1e3/Math.abs(f._rate);(e._endTimers[u[y]]||!f._paused)&&(e._clearTimer(u[y]),e._endTimers[u[y]]=setTimeout(e._ended.bind(e,f),T)),e._emit("rate",f._id)}}else return f=e._soundById(u),f?f._rate:e._rate;return e},seek:function(){var e=this,n=arguments,r,u;if(n.length===0)e._sounds.length&&(u=e._sounds[0]._id);else if(n.length===1){var c=e._getSoundIds(),p=c.indexOf(n[0]);p>=0?u=parseInt(n[0],10):e._sounds.length&&(u=e._sounds[0]._id,r=parseFloat(n[0]))}else n.length===2&&(r=parseFloat(n[0]),u=parseInt(n[1],10));if(typeof u>"u")return 0;if(typeof r=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,n)}}),e;var f=e._soundById(u);if(f)if(typeof r=="number"&&r>=0){var y=e.playing(u);y&&e.pause(u,!0),f._seek=r,f._ended=!1,e._clearTimer(u),!e._webAudio&&f._node&&!isNaN(f._node.duration)&&(f._node.currentTime=r);var g=function(){y&&e.play(u,!0),e._emit("seek",u)};if(y&&!e._webAudio){var A=function(){e._playLock?setTimeout(A,0):g()};setTimeout(A,0)}else g()}else if(e._webAudio){var T=e.playing(u)?t.ctx.currentTime-f._playStart:0,x=f._rateSeek?f._rateSeek-f._seek:0;return f._seek+(x+T*Math.abs(f._rate))}else return f._node.currentTime;return e},playing:function(e){var n=this;if(typeof e=="number"){var r=n._soundById(e);return r?!r._paused:!1}for(var u=0;u<n._sounds.length;u++)if(!n._sounds[u]._paused)return!0;return!1},duration:function(e){var n=this,r=n._duration,u=n._soundById(e);return u&&(r=n._sprite[u._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var e=this,n=e._sounds,r=0;r<n.length;r++)n[r]._paused||e.stop(n[r]._id),e._webAudio||(e._clearSound(n[r]._node),n[r]._node.removeEventListener("error",n[r]._errorFn,!1),n[r]._node.removeEventListener(t._canPlayEvent,n[r]._loadFn,!1),n[r]._node.removeEventListener("ended",n[r]._endFn,!1),t._releaseHtml5Audio(n[r]._node)),delete n[r]._node,e._clearTimer(n[r]._id);var u=t._howls.indexOf(e);u>=0&&t._howls.splice(u,1);var c=!0;for(r=0;r<t._howls.length;r++)if(t._howls[r]._src===e._src||e._src.indexOf(t._howls[r]._src)>=0){c=!1;break}return l&&c&&delete l[e._src],t.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,n,r,u){var c=this,p=c["_on"+e];return typeof n=="function"&&p.push(u?{id:r,fn:n,once:u}:{id:r,fn:n}),c},off:function(e,n,r){var u=this,c=u["_on"+e],p=0;if(typeof n=="number"&&(r=n,n=null),n||r)for(p=0;p<c.length;p++){var f=r===c[p].id;if(n===c[p].fn&&f||!n&&f){c.splice(p,1);break}}else if(e)u["_on"+e]=[];else{var y=Object.keys(u);for(p=0;p<y.length;p++)y[p].indexOf("_on")===0&&Array.isArray(u[y[p]])&&(u[y[p]]=[])}return u},once:function(e,n,r){var u=this;return u.on(e,n,r,1),u},_emit:function(e,n,r){for(var u=this,c=u["_on"+e],p=c.length-1;p>=0;p--)(!c[p].id||c[p].id===n||e==="load")&&(setTimeout((function(f){f.call(this,n,r)}).bind(u,c[p].fn),0),c[p].once&&u.off(e,c[p].fn,c[p].id));return u._loadQueue(e),u},_loadQueue:function(e){var n=this;if(n._queue.length>0){var r=n._queue[0];r.event===e&&(n._queue.shift(),n._loadQueue()),e||r.action()}return n},_ended:function(e){var n=this,r=e._sprite;if(!n._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(n._ended.bind(n,e),100),n;var u=!!(e._loop||n._sprite[r][2]);if(n._emit("end",e._id),!n._webAudio&&u&&n.stop(e._id,!0).play(e._id),n._webAudio&&u){n._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=t.ctx.currentTime;var c=(e._stop-e._start)*1e3/Math.abs(e._rate);n._endTimers[e._id]=setTimeout(n._ended.bind(n,e),c)}return n._webAudio&&!u&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,n._clearTimer(e._id),n._cleanBuffer(e._node),t._autoSuspend()),!n._webAudio&&!u&&n.stop(e._id,!0),n},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(typeof n._endTimers[e]!="function")clearTimeout(n._endTimers[e]);else{var r=n._soundById(e);r&&r._node&&r._node.removeEventListener("ended",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,r=0;r<n._sounds.length;r++)if(e===n._sounds[r]._id)return n._sounds[r];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new a(e)},_drain:function(){var e=this,n=e._pool,r=0,u=0;if(!(e._sounds.length<n)){for(u=0;u<e._sounds.length;u++)e._sounds[u]._ended&&r++;for(u=e._sounds.length-1;u>=0;u--){if(r<=n)return;e._sounds[u]._ended&&(e._webAudio&&e._sounds[u]._node&&e._sounds[u]._node.disconnect(0),e._sounds.splice(u,1),r--)}}},_getSoundIds:function(e){var n=this;if(typeof e>"u"){for(var r=[],u=0;u<n._sounds.length;u++)r.push(n._sounds[u]._id);return r}else return[e]},_refreshBuffer:function(e){var n=this;return e._node.bufferSource=t.ctx.createBufferSource(),e._node.bufferSource.buffer=l[n._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,t.ctx.currentTime),n},_cleanBuffer:function(e){var n=this,r=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return n;if(t._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),r))try{e.bufferSource.buffer=t._scratchBuffer}catch{}return e.bufferSource=null,n},_clearSound:function(e){var n=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);n||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,n._sounds.push(e),e.create(),e},create:function(){var e=this,n=e._parent,r=t._muted||e._muted||e._parent._muted?0:e._volume;return n._webAudio?(e._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),e._node.gain.setValueAtTime(r,t.ctx.currentTime),e._node.paused=!0,e._node.connect(t.masterGain)):t.noAudio||(e._node=t._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(t._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=n._src,e._node.preload=n._preload===!0?"auto":n._preload,e._node.volume=r*t.volume(),e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(e._node.duration*10)/10,Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue()),e._node.removeEventListener(t._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,n=e._parent;n._duration===1/0&&(n._duration=Math.ceil(e._node.duration*10)/10,n._sprite.__default[1]===1/0&&(n._sprite.__default[1]=n._duration*1e3),n._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},d=function(e){var n=e._src;if(l[n]){e._duration=l[n].duration,_(e);return}if(/^data:[^;]+;base64,/.test(n)){for(var r=atob(n.split(",")[1]),u=new Uint8Array(r.length),c=0;c<r.length;++c)u[c]=r.charCodeAt(c);v(u.buffer,e)}else{var p=new XMLHttpRequest;p.open(e._xhr.method,n,!0),p.withCredentials=e._xhr.withCredentials,p.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(f){p.setRequestHeader(f,e._xhr.headers[f])}),p.onload=function(){var f=(p.status+"")[0];if(f!=="0"&&f!=="2"&&f!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+p.status+".");return}v(p.response,e)},p.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[n],e.load())},h(p)}},h=function(e){try{e.send()}catch{e.onerror()}},v=function(e,n){var r=function(){n._emit("loaderror",null,"Decoding audio data failed.")},u=function(c){c&&n._sounds.length>0?(l[n._src]=c,_(n,c)):r()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(e).then(u).catch(r):t.ctx.decodeAudioData(e,u,r)},_=function(e,n){n&&!e._duration&&(e._duration=n.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},m=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),n=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=n?parseInt(n[1],10):null;if(e&&r&&r<9){var u=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!u&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};s.Howler=t,s.Howl=o,typeof O<"u"?(O.HowlerGlobal=i,O.Howler=t,O.Howl=o,O.Sound=a):typeof window<"u"&&(window.HowlerGlobal=i,window.Howler=t,window.Howl=o,window.Sound=a)})();(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var o=this;if(!o.ctx||!o.ctx.listener)return o;for(var a=o._howls.length-1;a>=0;a--)o._howls[a].stereo(t);return o},HowlerGlobal.prototype.pos=function(t,o,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;if(o=typeof o!="number"?l._pos[1]:o,a=typeof a!="number"?l._pos[2]:a,typeof t=="number")l._pos=[t,o,a],typeof l.ctx.listener.positionX<"u"?(l.ctx.listener.positionX.setTargetAtTime(l._pos[0],Howler.ctx.currentTime,.1),l.ctx.listener.positionY.setTargetAtTime(l._pos[1],Howler.ctx.currentTime,.1),l.ctx.listener.positionZ.setTargetAtTime(l._pos[2],Howler.ctx.currentTime,.1)):l.ctx.listener.setPosition(l._pos[0],l._pos[1],l._pos[2]);else return l._pos;return l},HowlerGlobal.prototype.orientation=function(t,o,a,l,d,h){var v=this;if(!v.ctx||!v.ctx.listener)return v;var _=v._orientation;if(o=typeof o!="number"?_[1]:o,a=typeof a!="number"?_[2]:a,l=typeof l!="number"?_[3]:l,d=typeof d!="number"?_[4]:d,h=typeof h!="number"?_[5]:h,typeof t=="number")v._orientation=[t,o,a,l,d,h],typeof v.ctx.listener.forwardX<"u"?(v.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),v.ctx.listener.forwardY.setTargetAtTime(o,Howler.ctx.currentTime,.1),v.ctx.listener.forwardZ.setTargetAtTime(a,Howler.ctx.currentTime,.1),v.ctx.listener.upX.setTargetAtTime(l,Howler.ctx.currentTime,.1),v.ctx.listener.upY.setTargetAtTime(d,Howler.ctx.currentTime,.1),v.ctx.listener.upZ.setTargetAtTime(h,Howler.ctx.currentTime,.1)):v.ctx.listener.setOrientation(t,o,a,l,d,h);else return _;return v},Howl.prototype.init=(function(t){return function(o){var a=this;return a._orientation=o.orientation||[1,0,0],a._stereo=o.stereo||null,a._pos=o.pos||null,a._pannerAttr={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:360,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:360,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:0,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:"inverse",maxDistance:typeof o.maxDistance<"u"?o.maxDistance:1e4,panningModel:typeof o.panningModel<"u"?o.panningModel:"HRTF",refDistance:typeof o.refDistance<"u"?o.refDistance:1,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:1},a._onstereo=o.onstereo?[{fn:o.onstereo}]:[],a._onpos=o.onpos?[{fn:o.onpos}]:[],a._onorientation=o.onorientation?[{fn:o.onorientation}]:[],t.call(this,o)}})(Howl.prototype.init),Howl.prototype.stereo=function(t,o){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"stereo",action:function(){a.stereo(t,o)}}),a;var l=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof o>"u")if(typeof t=="number")a._stereo=t,a._pos=[t,0,0];else return a._stereo;for(var d=a._getSoundIds(o),h=0;h<d.length;h++){var v=a._soundById(d[h]);if(v)if(typeof t=="number")v._stereo=t,v._pos=[t,0,0],v._node&&(v._pannerAttr.panningModel="equalpower",(!v._panner||!v._panner.pan)&&i(v,l),l==="spatial"?typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):v._panner.setPosition(t,0,0):v._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),a._emit("stereo",v._id);else return v._stereo}return a},Howl.prototype.pos=function(t,o,a,l){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"pos",action:function(){d.pos(t,o,a,l)}}),d;if(o=typeof o!="number"?0:o,a=typeof a!="number"?-.5:a,typeof l>"u")if(typeof t=="number")d._pos=[t,o,a];else return d._pos;for(var h=d._getSoundIds(l),v=0;v<h.length;v++){var _=d._soundById(h[v]);if(_)if(typeof t=="number")_._pos=[t,o,a],_._node&&((!_._panner||_._panner.pan)&&i(_,"spatial"),typeof _._panner.positionX<"u"?(_._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),_._panner.positionY.setValueAtTime(o,Howler.ctx.currentTime),_._panner.positionZ.setValueAtTime(a,Howler.ctx.currentTime)):_._panner.setPosition(t,o,a)),d._emit("pos",_._id);else return _._pos}return d},Howl.prototype.orientation=function(t,o,a,l){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"orientation",action:function(){d.orientation(t,o,a,l)}}),d;if(o=typeof o!="number"?d._orientation[1]:o,a=typeof a!="number"?d._orientation[2]:a,typeof l>"u")if(typeof t=="number")d._orientation=[t,o,a];else return d._orientation;for(var h=d._getSoundIds(l),v=0;v<h.length;v++){var _=d._soundById(h[v]);if(_)if(typeof t=="number")_._orientation=[t,o,a],_._node&&(_._panner||(_._pos||(_._pos=d._pos||[0,0,-.5]),i(_,"spatial")),typeof _._panner.orientationX<"u"?(_._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),_._panner.orientationY.setValueAtTime(o,Howler.ctx.currentTime),_._panner.orientationZ.setValueAtTime(a,Howler.ctx.currentTime)):_._panner.setOrientation(t,o,a)),d._emit("orientation",_._id);else return _._orientation}return d},Howl.prototype.pannerAttr=function(){var t=this,o=arguments,a,l,d;if(!t._webAudio)return t;if(o.length===0)return t._pannerAttr;if(o.length===1)if(typeof o[0]=="object")a=o[0],typeof l>"u"&&(a.pannerAttr||(a.pannerAttr={coneInnerAngle:a.coneInnerAngle,coneOuterAngle:a.coneOuterAngle,coneOuterGain:a.coneOuterGain,distanceModel:a.distanceModel,maxDistance:a.maxDistance,refDistance:a.refDistance,rolloffFactor:a.rolloffFactor,panningModel:a.panningModel}),t._pannerAttr={coneInnerAngle:typeof a.pannerAttr.coneInnerAngle<"u"?a.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof a.pannerAttr.coneOuterAngle<"u"?a.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof a.pannerAttr.coneOuterGain<"u"?a.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof a.pannerAttr.distanceModel<"u"?a.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof a.pannerAttr.maxDistance<"u"?a.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof a.pannerAttr.refDistance<"u"?a.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof a.pannerAttr.rolloffFactor<"u"?a.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof a.pannerAttr.panningModel<"u"?a.pannerAttr.panningModel:t._panningModel});else return d=t._soundById(parseInt(o[0],10)),d?d._pannerAttr:t._pannerAttr;else o.length===2&&(a=o[0],l=parseInt(o[1],10));for(var h=t._getSoundIds(l),v=0;v<h.length;v++)if(d=t._soundById(h[v]),d){var _=d._pannerAttr;_={coneInnerAngle:typeof a.coneInnerAngle<"u"?a.coneInnerAngle:_.coneInnerAngle,coneOuterAngle:typeof a.coneOuterAngle<"u"?a.coneOuterAngle:_.coneOuterAngle,coneOuterGain:typeof a.coneOuterGain<"u"?a.coneOuterGain:_.coneOuterGain,distanceModel:typeof a.distanceModel<"u"?a.distanceModel:_.distanceModel,maxDistance:typeof a.maxDistance<"u"?a.maxDistance:_.maxDistance,refDistance:typeof a.refDistance<"u"?a.refDistance:_.refDistance,rolloffFactor:typeof a.rolloffFactor<"u"?a.rolloffFactor:_.rolloffFactor,panningModel:typeof a.panningModel<"u"?a.panningModel:_.panningModel};var m=d._panner;m||(d._pos||(d._pos=t._pos||[0,0,-.5]),i(d,"spatial"),m=d._panner),m.coneInnerAngle=_.coneInnerAngle,m.coneOuterAngle=_.coneOuterAngle,m.coneOuterGain=_.coneOuterGain,m.distanceModel=_.distanceModel,m.maxDistance=_.maxDistance,m.refDistance=_.refDistance,m.rolloffFactor=_.rolloffFactor,m.panningModel=_.panningModel}return t},Sound.prototype.init=(function(t){return function(){var o=this,a=o._parent;o._orientation=a._orientation,o._stereo=a._stereo,o._pos=a._pos,o._pannerAttr=a._pannerAttr,t.call(this),o._stereo?a.stereo(o._stereo):o._pos&&a.pos(o._pos[0],o._pos[1],o._pos[2],o._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(t){return function(){var o=this,a=o._parent;return o._orientation=a._orientation,o._stereo=a._stereo,o._pos=a._pos,o._pannerAttr=a._pannerAttr,o._stereo?a.stereo(o._stereo):o._pos?a.pos(o._pos[0],o._pos[1],o._pos[2],o._id):o._panner&&(o._panner.disconnect(0),o._panner=void 0,a._refreshBuffer(o)),t.call(this)}})(Sound.prototype.reset);var i=function(t,o){o=o||"spatial",o==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(G)),G}var L;(function(s){s[s.Transient=0]="Transient",s[s.Singleton=1]="Singleton",s[s.ResolutionScoped=2]="ResolutionScoped",s[s.ContainerScoped=3]="ContainerScoped"})(L||(L={}));const b=L;var V=function(s,i){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var a in o)o.hasOwnProperty(a)&&(t[a]=o[a])},V(s,i)};function X(s,i){V(s,i);function t(){this.constructor=s}s.prototype=i===null?Object.create(i):(t.prototype=i.prototype,new t)}function he(s,i){var t={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.indexOf(o)<0&&(t[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(s);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(s,o[a])&&(t[o[a]]=s[o[a]]);return t}function ye(s,i,t,o){function a(l){return l instanceof t?l:new t(function(d){d(l)})}return new(t||(t=Promise))(function(l,d){function h(m){try{_(o.next(m))}catch(e){d(e)}}function v(m){try{_(o.throw(m))}catch(e){d(e)}}function _(m){m.done?l(m.value):a(m.value).then(h,v)}_((o=o.apply(s,[])).next())})}function me(s,i){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,a,l,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(_){return function(m){return v([_,m])}}function v(_){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,a&&(l=_[0]&2?a.return:_[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,_[1])).done)return l;switch(a=0,l&&(_=[_[0]&2,l.value]),_[0]){case 0:case 1:l=_;break;case 4:return t.label++,{value:_[1],done:!1};case 5:t.label++,a=_[1],_=[0];continue;case 7:_=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(_[0]===6||_[0]===2)){t=0;continue}if(_[0]===3&&(!l||_[1]>l[0]&&_[1]<l[3])){t.label=_[1];break}if(_[0]===6&&t.label<l[1]){t.label=l[1],l=_;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(_);break}l[2]&&t.ops.pop(),t.trys.pop();continue}_=i.call(s,t)}catch(m){_=[6,m],a=0}finally{o=l=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}}function P(s){var i=typeof Symbol=="function"&&Symbol.iterator,t=i&&s[i],o=0;if(t)return t.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function C(s,i){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var o=t.call(s),a,l=[],d;try{for(;(i===void 0||i-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(d)throw d.error}}return l}function S(){for(var s=[],i=0;i<arguments.length;i++)s=s.concat(C(arguments[i]));return s}var N="injectionTokens";function ge(s){var i=Reflect.getMetadata("design:paramtypes",s)||[],t=Reflect.getOwnMetadata(N,s)||{};return Object.keys(t).forEach(function(o){i[+o]=t[o]}),i}function we(s,i){return function(t,o,a){var l=Reflect.getOwnMetadata(N,t)||{};l[a]=s,Reflect.defineMetadata(N,l,t)}}function z(s){return!!s.useClass}function q(s){return!!s.useFactory}var ee=(function(){function s(i){this.wrap=i,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return s.prototype.createProxy=function(i){var t=this,o={},a=!1,l,d=function(){return a||(l=i(t.wrap()),a=!0),l};return new Proxy(o,this.createHandler(d))},s.prototype.createHandler=function(i){var t={},o=function(a){t[a]=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];l[0]=i();var h=Reflect[a];return h.apply(void 0,S(l))}};return this.reflectMethods.forEach(o),t},s})();function M(s){return typeof s=="string"||typeof s=="symbol"}function Ae(s){return typeof s=="object"&&"token"in s&&"multiple"in s}function J(s){return typeof s=="object"&&"token"in s&&"transform"in s}function be(s){return typeof s=="function"||s instanceof ee}function E(s){return!!s.useToken}function D(s){return s.useValue!=null}function Te(s){return z(s)||D(s)||E(s)||q(s)}var $=(function(){function s(){this._registryMap=new Map}return s.prototype.entries=function(){return this._registryMap.entries()},s.prototype.getAll=function(i){return this.ensure(i),this._registryMap.get(i)},s.prototype.get=function(i){this.ensure(i);var t=this._registryMap.get(i);return t[t.length-1]||null},s.prototype.set=function(i,t){this.ensure(i),this._registryMap.get(i).push(t)},s.prototype.setAll=function(i,t){this._registryMap.set(i,t)},s.prototype.has=function(i){return this.ensure(i),this._registryMap.get(i).length>0},s.prototype.clear=function(){this._registryMap.clear()},s.prototype.ensure=function(i){this._registryMap.has(i)||this._registryMap.set(i,[])},s})(),Se=(function(s){X(i,s);function i(){return s!==null&&s.apply(this,arguments)||this}return i})($),R=(function(){function s(){this.scopedResolutions=new Map}return s})();function xe(s,i){if(s===null)return"at position #"+i;var t=s.split(",")[i].trim();return'"'+t+'" at position #'+i}function Ie(s,i,t){return t===void 0&&(t="    "),S([s],i.message.split(`
`).map(function(o){return t+o})).join(`
`)}function Me(s,i,t){var o=C(s.toString().match(/constructor\(([\w, ]+)\)/)||[],2),a=o[1],l=a===void 0?null:a,d=xe(l,i);return Ie("Cannot inject the dependency "+d+' of "'+s.name+'" constructor. Reason:',t)}function Oe(s){if(typeof s.dispose!="function")return!1;var i=s.dispose;return!(i.length>0)}var ke=(function(s){X(i,s);function i(){return s!==null&&s.apply(this,arguments)||this}return i})($),Pe=(function(s){X(i,s);function i(){return s!==null&&s.apply(this,arguments)||this}return i})($),Re=(function(){function s(){this.preResolution=new ke,this.postResolution=new Pe}return s})(),te=new Map,Ee=(function(){function s(i){this.parent=i,this._registry=new Se,this.interceptors=new Re,this.disposed=!1,this.disposables=new Set}return s.prototype.register=function(i,t,o){o===void 0&&(o={lifecycle:b.Transient}),this.ensureNotDisposed();var a;if(Te(t)?a=t:a={useClass:t},E(a))for(var l=[i],d=a;d!=null;){var h=d.useToken;if(l.includes(h))throw new Error("Token registration cycle detected! "+S(l,[h]).join(" -> "));l.push(h);var v=this._registry.get(h);v&&E(v.provider)?d=v.provider:d=null}if((o.lifecycle===b.Singleton||o.lifecycle==b.ContainerScoped||o.lifecycle==b.ResolutionScoped)&&(D(a)||q(a)))throw new Error('Cannot use lifecycle "'+b[o.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(i,{provider:a,options:o}),this},s.prototype.registerType=function(i,t){return this.ensureNotDisposed(),M(t)?this.register(i,{useToken:t}):this.register(i,{useClass:t})},s.prototype.registerInstance=function(i,t){return this.ensureNotDisposed(),this.register(i,{useValue:t})},s.prototype.registerSingleton=function(i,t){if(this.ensureNotDisposed(),M(i)){if(M(t))return this.register(i,{useToken:t},{lifecycle:b.Singleton});if(t)return this.register(i,{useClass:t},{lifecycle:b.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var o=i;return t&&!M(t)&&(o=t),this.register(i,{useClass:o},{lifecycle:b.Singleton})},s.prototype.resolve=function(i,t,o){t===void 0&&(t=new R),o===void 0&&(o=!1),this.ensureNotDisposed();var a=this.getRegistration(i);if(!a&&M(i)){if(o)return;throw new Error('Attempted to resolve unregistered dependency token: "'+i.toString()+'"')}if(this.executePreResolutionInterceptor(i,"Single"),a){var l=this.resolveRegistration(a,t);return this.executePostResolutionInterceptor(i,l,"Single"),l}if(be(i)){var l=this.construct(i,t);return this.executePostResolutionInterceptor(i,l,"Single"),l}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},s.prototype.executePreResolutionInterceptor=function(i,t){var o,a;if(this.interceptors.preResolution.has(i)){var l=[];try{for(var d=P(this.interceptors.preResolution.getAll(i)),h=d.next();!h.done;h=d.next()){var v=h.value;v.options.frequency!="Once"&&l.push(v),v.callback(i,t)}}catch(_){o={error:_}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}this.interceptors.preResolution.setAll(i,l)}},s.prototype.executePostResolutionInterceptor=function(i,t,o){var a,l;if(this.interceptors.postResolution.has(i)){var d=[];try{for(var h=P(this.interceptors.postResolution.getAll(i)),v=h.next();!v.done;v=h.next()){var _=v.value;_.options.frequency!="Once"&&d.push(_),_.callback(i,t,o)}}catch(m){a={error:m}}finally{try{v&&!v.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}this.interceptors.postResolution.setAll(i,d)}},s.prototype.resolveRegistration=function(i,t){if(this.ensureNotDisposed(),i.options.lifecycle===b.ResolutionScoped&&t.scopedResolutions.has(i))return t.scopedResolutions.get(i);var o=i.options.lifecycle===b.Singleton,a=i.options.lifecycle===b.ContainerScoped,l=o||a,d;return D(i.provider)?d=i.provider.useValue:E(i.provider)?d=l?i.instance||(i.instance=this.resolve(i.provider.useToken,t)):this.resolve(i.provider.useToken,t):z(i.provider)?d=l?i.instance||(i.instance=this.construct(i.provider.useClass,t)):this.construct(i.provider.useClass,t):q(i.provider)?d=i.provider.useFactory(this):d=this.construct(i.provider,t),i.options.lifecycle===b.ResolutionScoped&&t.scopedResolutions.set(i,d),d},s.prototype.resolveAll=function(i,t,o){var a=this;t===void 0&&(t=new R),o===void 0&&(o=!1),this.ensureNotDisposed();var l=this.getAllRegistrations(i);if(!l&&M(i)){if(o)return[];throw new Error('Attempted to resolve unregistered dependency token: "'+i.toString()+'"')}if(this.executePreResolutionInterceptor(i,"All"),l){var d=l.map(function(v){return a.resolveRegistration(v,t)});return this.executePostResolutionInterceptor(i,d,"All"),d}var h=[this.construct(i,t)];return this.executePostResolutionInterceptor(i,h,"All"),h},s.prototype.isRegistered=function(i,t){return t===void 0&&(t=!1),this.ensureNotDisposed(),this._registry.has(i)||t&&(this.parent||!1)&&this.parent.isRegistered(i,!0)},s.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},s.prototype.clearInstances=function(){var i,t;this.ensureNotDisposed();try{for(var o=P(this._registry.entries()),a=o.next();!a.done;a=o.next()){var l=C(a.value,2),d=l[0],h=l[1];this._registry.setAll(d,h.filter(function(v){return!D(v.provider)}).map(function(v){return v.instance=void 0,v}))}}catch(v){i={error:v}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}},s.prototype.createChildContainer=function(){var i,t;this.ensureNotDisposed();var o=new s(this);try{for(var a=P(this._registry.entries()),l=a.next();!l.done;l=a.next()){var d=C(l.value,2),h=d[0],v=d[1];v.some(function(_){var m=_.options;return m.lifecycle===b.ContainerScoped})&&o._registry.setAll(h,v.map(function(_){return _.options.lifecycle===b.ContainerScoped?{provider:_.provider,options:_.options}:_}))}}catch(_){i={error:_}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},s.prototype.beforeResolution=function(i,t,o){o===void 0&&(o={frequency:"Always"}),this.interceptors.preResolution.set(i,{callback:t,options:o})},s.prototype.afterResolution=function(i,t,o){o===void 0&&(o={frequency:"Always"}),this.interceptors.postResolution.set(i,{callback:t,options:o})},s.prototype.dispose=function(){return ye(this,void 0,void 0,function(){var i;return me(this,function(t){switch(t.label){case 0:return this.disposed=!0,i=[],this.disposables.forEach(function(o){var a=o.dispose();a&&i.push(a)}),[4,Promise.all(i)];case 1:return t.sent(),[2]}})})},s.prototype.getRegistration=function(i){return this.isRegistered(i)?this._registry.get(i):this.parent?this.parent.getRegistration(i):null},s.prototype.getAllRegistrations=function(i){return this.isRegistered(i)?this._registry.getAll(i):this.parent?this.parent.getAllRegistrations(i):null},s.prototype.construct=function(i,t){var o=this;if(i instanceof ee)return i.createProxy(function(l){return o.resolve(l,t)});var a=(function(){var l=te.get(i);if(!l||l.length===0){if(i.length===0)return new i;throw new Error('TypeInfo not known for "'+i.name+'"')}var d=l.map(o.resolveParams(t,i));return new(i.bind.apply(i,S([void 0],d)))})();return Oe(a)&&this.disposables.add(a),a},s.prototype.resolveParams=function(i,t){var o=this;return function(a,l){var d,h,v;try{return Ae(a)?J(a)?a.multiple?(d=o.resolve(a.transform)).transform.apply(d,S([o.resolveAll(a.token,new R,a.isOptional)],a.transformArgs)):(h=o.resolve(a.transform)).transform.apply(h,S([o.resolve(a.token,i,a.isOptional)],a.transformArgs)):a.multiple?o.resolveAll(a.token,new R,a.isOptional):o.resolve(a.token,i,a.isOptional):J(a)?(v=o.resolve(a.transform,i)).transform.apply(v,S([o.resolve(a.token,i)],a.transformArgs)):o.resolve(a,i)}catch(_){throw new Error(Me(t,l,_))}}},s.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},s})(),ne=new Ee;function De(s){return function(i){te.set(i,ge(i))}}function Fe(s){return s===void 0&&(s=[]),function(i){return s.forEach(function(t){var o=t.token,a=t.options,l=he(t,["token","options"]);return ne.register(o,l,a)}),i}}function Ce(){return function(s){De()(s),ne.registerSingleton(s)}}function Be(s,i){var t={token:s,multiple:!0,isOptional:i};return we(t)}if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);export{Fe as a,ne as b,Be as c,De as i,He as r,Ce as s};
