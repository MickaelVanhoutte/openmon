import{p as On,h as fe,A as xr,o as An,s as _,m as Se,i as o,c as B,f as In,j as f,a as m,e as Qe,t as ke,b as S,x as et,l as K,k as Or,C as Sn,L as kn,r as U,u as Ar,d as Cn,y as xt,O as Ir,q as Ot,_ as Ce,J as Rn,a0 as Nn}from"./threlte-Cn4q_HKN.js";import{a as Mn}from"./vendor-CHMVvq2h.js";import{w as Ln,x as jn}from"./main-Cwa9llGS.js";import{g as Pn}from"./move-hydration-7NcyUzSZ.js";import{c as Fn}from"./index-D8F95lhu.js";import"./threejs-D-3vx0wo.js";/* empty css            */function Sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sr(Object(r),!0).forEach(function(n){He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ge(e){"@babel/helpers - typeof";return Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(e)}function He(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $n(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function zn(e,t){if(e==null)return{};var r=$n(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gn(e,t){return Wn(e)||Bn(e,t)||sr(e,t)||Yn()}function ie(e){return Un(e)||Hn(e)||sr(e)||Zn()}function Un(e){if(Array.isArray(e))return Jt(e)}function Wn(e){if(Array.isArray(e))return e}function Hn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],s=!0,a=!1,i,d;try{for(r=r.call(e);!(s=(i=r.next()).done)&&(n.push(i.value),!(t&&n.length===t));s=!0);}catch(c){a=!0,d=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function sr(e,t){if(e){if(typeof e=="string")return Jt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jt(e,t)}}function Jt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=sr(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,i=!1,d;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){i=!0,d=c},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(i)throw d}}}}var Vn="finalize",qn="consider";function Be(e,t,r){e.dispatchEvent(new CustomEvent(Vn,{detail:{items:t,info:r}}))}function Ae(e,t,r){e.dispatchEvent(new CustomEvent(qn,{detail:{items:t,info:r}}))}var Ft="draggedEntered",dt="draggedLeft",$t="draggedOverIndex",lr="draggedLeftDocument",Rt={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Xn(e,t,r){e.dispatchEvent(new CustomEvent(Ft,{detail:{indexObj:t,draggedEl:r}}))}function Kn(e,t,r){e.dispatchEvent(new CustomEvent(dt,{detail:{draggedEl:t,type:Rt.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Jn(e,t){e.dispatchEvent(new CustomEvent(dt,{detail:{draggedEl:t,type:Rt.OUTSIDE_OF_ANY}}))}function Qn(e,t,r){e.dispatchEvent(new CustomEvent($t,{detail:{indexObj:t,draggedEl:r}}))}function ea(e){window.dispatchEvent(new CustomEvent(lr,{detail:{draggedEl:e}}))}var Z={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Ft,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:$t,DRAGGED_LEFT:dt,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},X={POINTER:"pointer",KEYBOARD:"keyboard"},zt="isDndShadowItem",Gt="data-is-dnd-shadow-item-internal",ta="data-is-dnd-shadow-item-hint",Gr="id:dnd-shadow-placeholder-0000",ra="dnd-action-dragged-el",L="id",Qt=0;function Ur(){Qt++}function Wr(){if(Qt===0)throw new Error("Bug! trying to decrement when there are no dropzones");Qt--}var dr=typeof window>"u";function er(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?ia(e):e.getBoundingClientRect(),s=getComputedStyle(e),a=s.transform;if(a){var i,d,c,h;if(a.startsWith("matrix3d("))r=a.slice(9,-1).split(/, /),i=+r[0],d=+r[5],c=+r[12],h=+r[13];else if(a.startsWith("matrix("))r=a.slice(7,-1).split(/, /),i=+r[0],d=+r[3],c=+r[4],h=+r[5];else return n;var l=s.transformOrigin,g=n.x-c-(1-i)*parseFloat(l),u=n.y-h-(1-d)*parseFloat(l.slice(l.indexOf(" ")+1)),v=i?n.width/i:e.offsetWidth,y=d?n.height/d:e.offsetHeight;return{x:g,y:u,width:v,height:y,top:u,right:g+v,bottom:u+y,left:g}}else return n}function tr(e){var t=er(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Hr(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Br(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function na(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function at(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Zr(e){return Br(Hr(e))}function kr(e,t){var r=Zr(t);return na(e,r)}function aa(e){var t=Hr(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function ia(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=!1,s=!1,a=e.parentElement;a&&a!==document.body;){var i=window.getComputedStyle(a),d=i.overflowY,c=i.overflowX,h=d==="scroll"||d==="auto",l=c==="scroll"||c==="auto";if(h||l){var g=a.getBoundingClientRect();if(h){var u=Math.max(r.top,g.top),v=Math.min(r.bottom,g.bottom);(u!==r.top||v!==r.bottom)&&(n=!0),r.top=u,r.bottom=v}if(l){var y=Math.max(r.left,g.left),D=Math.min(r.right,g.right);(y!==r.left||D!==r.right)&&(s=!0),r.left=y,r.right=D}}a=a.parentElement}return n||s?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:Math.max(0,t.right-t.left),height:Math.max(0,t.bottom-t.top)}}var Ue;function ur(){Ue=new Map}ur();function oa(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Gt)});if(t>=0)return Ue.has(e)||Ue.set(e,new Map),Ue.get(e).set(t,tr(e.children[t])),t}function sa(e,t){var r=tr(t);if(!at(e,r))return null;var n=t.children;if(n.length===0)return{index:0,isProximityBased:!0};for(var s=oa(t),a=0;a<n.length;a++){var i=tr(n[a]);if(at(e,i)){var d=Ue.has(t)&&Ue.get(t).get(a);return d&&!at(e,d)?{index:s,isProximityBased:!1}:{index:a,isProximityBased:!1}}}for(var c=Number.MAX_VALUE,h=void 0,l=0;l<n.length;l++){var g=kr(e,n[l]);g<c&&(c=g,h=l)}if(n.length>0){var u=n.length,v=n[u-1],y=v.cloneNode(!1);y.style.visibility="hidden",y.style.pointerEvents="none",t.appendChild(y);var D=kr(e,y);D<c&&(h=u),t.removeChild(y)}return{index:h,isProximityBased:!0}}function tt(e){return JSON.stringify(e,null,2)}function Nt(e){if(!e)throw new Error("cannot get depth of a falsy node");return Yr(e,0)}function Yr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Yr(e.parentElement,t+1):t-1}function la(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function da(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var ua=200,Cr=10,rr;function ca(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ua,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,a,i,d=!1,c,h=Array.from(t).sort(function(g,u){return Nt(u)-Nt(g)});function l(){var g=s(),u=n.multiScrollIfNeeded();if(!u&&c&&Math.abs(c.x-g.x)<Cr&&Math.abs(c.y-g.y)<Cr){rr=window.setTimeout(l,r);return}if(aa(e)){ea(e);return}c=g;var v=!1,y=lt(h),D;try{for(y.s();!(D=y.n()).done;){var E=D.value;u&&ur();var x=sa(g,E);if(x!==null){var T=x.index;v=!0,E!==a?(a&&Kn(a,e,E),Xn(E,x,e),a=E):T!==i&&(Qn(E,x,e),i=T);break}}}catch(N){y.e(N)}finally{y.f()}!v&&d&&a?(Jn(a,e),a=void 0,i=void 0,d=!1):d=!0,rr=window.setTimeout(l,r)}l()}function fa(){clearTimeout(rr),ur()}var rt=30;function va(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(a){var i=e,d=i.directionObj,c=i.stepPx;d&&(a.scrollBy(d.x*c,d.y*c),window.requestAnimationFrame(function(){return r(a)}))}function n(a){return rt-a}function s(a,i){if(!i)return!1;var d=ga(a,i),c=!!e.directionObj;if(d===null)return c&&t(),!1;var h=!1,l=!1;return i.scrollHeight>i.clientHeight&&(d.bottom<rt?(h=!0,e.directionObj={x:0,y:1},e.stepPx=n(d.bottom)):d.top<rt&&(h=!0,e.directionObj={x:0,y:-1},e.stepPx=n(d.top)),!c&&h)||i.scrollWidth>i.clientWidth&&(d.right<rt?(l=!0,e.directionObj={x:1,y:0},e.stepPx=n(d.right)):d.left<rt&&(l=!0,e.directionObj={x:-1,y:0},e.stepPx=n(d.left)),!c&&l)?(r(i),!0):(t(),!1)}return{scrollIfNeeded:s,resetScrolling:t}}function ga(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return at(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function pa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=ha(e),n=Array.from(r).sort(function(c,h){return Nt(h)-Nt(c)}),s=va(),a=s.scrollIfNeeded,i=s.resetScrolling;function d(){var c=t();if(!c||!n)return!1;for(var h=n.filter(function(u){return at(c,u.getBoundingClientRect())||u===document.scrollingElement}),l=0;l<h.length;l++){var g=a(c,h[l]);if(g)return!0}return!1}return{multiScrollIfNeeded:r.size>0?d:function(){return!1},destroy:function(){return i()}}}function ma(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),s=n.overflow;s.split(" ").some(function(a){return a.includes("auto")||a.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function ha(e){var t=new Set,r=lt(e),n;try{for(r.s();!(n=r.n()).done;){var s=n.value;ma(s).forEach(function(a){return t.add(a)})}}catch(a){r.e(a)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function ya(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",s=n?[e]:ie(e.querySelectorAll("select")),a=lt(s),i;try{for(a.s();!(i=a.n()).done;){var d=i.value;r.push(d.value)}}catch(N){a.e(N)}finally{a.f()}if(s.length>0)for(var c=n?[t]:ie(t.querySelectorAll("select")),h=0;h<c.length;h++){var l=c[h],g=r[h],u=l.querySelector('option[value="'.concat(g,'"'));u&&u.setAttribute("selected",!0)}var v=e.tagName==="CANVAS",y=v?[e]:ie(e.querySelectorAll("canvas"));if(y.length>0)for(var D=v?[t]:ie(t.querySelectorAll("canvas")),E=0;E<D.length;E++){var x=y[E],T=D[E];T.width=x.width,T.height=x.height,x.width>0&&x.height>0&&T.getContext("2d").drawImage(x,0,0)}return t}var ot=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),wa=He({},ot.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Vr(e){if(!ot[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(ot)));return wa[e]}var Da=.2;function Re(e){return"".concat(e," ").concat(Da,"s ease")}function ba(e,t){var r=e.getBoundingClientRect(),n=ya(e);qr(e,n),n.id=ra,n.style.position="fixed";var s=r.top,a=r.left;if(n.style.top="".concat(s,"px"),n.style.left="".concat(a,"px"),t){var i=Br(r);s-=i.y-t.y,a-=i.x-t.x,window.setTimeout(function(){n.style.top="".concat(s,"px"),n.style.left="".concat(a,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(Re("top"),", ").concat(Re("left"),", ").concat(Re("background-color"),", ").concat(Re("opacity"),", ").concat(Re("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(Re("width"),", ").concat(Re("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function _a(e){e.style.cursor="grab"}function Ea(e,t,r,n){qr(t,e);var s=t.getBoundingClientRect(),a=e.getBoundingClientRect(),i=s.width-a.width,d=s.height-a.height;if(i||d){var c={left:(r-a.left)/a.width,top:(n-a.top)/a.height};Vr(ot.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(s.height,"px"),e.style.width="".concat(s.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-c.left*i,"px"),e.style.top="".concat(parseFloat(e.style.top)-c.top*d,"px")}}function qr(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||Vr(ot.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function Ta(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Xr(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function xa(e){e.style.visibility="hidden",e.setAttribute(Gt,"true")}function Oa(e){e.style.visibility="",e.removeAttribute(Gt)}function St(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var s=t(n);Object.keys(s).forEach(function(a){n.style[a]=s[a]}),r(n).forEach(function(a){return n.classList.add(a)})})}function Mt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var s=t(n);Object.keys(s).forEach(function(a){n.style[a]=""}),r(n).forEach(function(a){return n.classList.contains(a)&&n.classList.remove(a)})})}function Aa(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var Ia="--any--",Sa=100,ka=20,At=3,Ca=80,Rr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Nr="data-is-dnd-original-dragged-item",V,M,q,Ut,A,Wt,Oe,z,ve,P,Te=!1,cr=!1,fr,ut=!1,kt=[],it,ge,nt=!1,vr=!1,le=new Map,k=new Map,Kt=new WeakMap;function Ra(e,t){le.has(t)||le.set(t,new Set),le.get(t).has(e)||(le.get(t).add(e),Ur())}function Mr(e,t){le.get(t).delete(e),Wr(),le.get(t).size===0&&le.delete(t)}function Na(){var e=le.get(Ut),t=lt(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener(Ft,Kr),n.addEventListener(dt,Jr),n.addEventListener($t,Qr)}}catch(d){t.e(d)}finally{t.f()}window.addEventListener(lr,Ze);var s=Math.max.apply(Math,ie(Array.from(e.keys()).map(function(d){return k.get(d).dropAnimationDurationMs}))),a=s===0?ka:Math.max(s,Sa);it=pa(e,function(){return P});var i=vr?function(){return{x:P.x+window.scrollX,y:P.y+window.scrollY}}:function(){return Zr(M)};ca(M,e,a*1.07,it,i)}function Ma(){var e=le.get(Ut),t=lt(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener(Ft,Kr),n.removeEventListener(dt,Jr),n.removeEventListener($t,Qr)}}catch(s){t.e(s)}finally{t.f()}window.removeEventListener(lr,Ze),it&&(it.destroy(),it=void 0),fa()}function Ht(e){return e.findIndex(function(t){return!!t[zt]})}function La(e){var t;return Ct(Ct({},e),{},(t={},He(t,zt,!0),He(t,L,Gr),t))}function Kr(e){var t=k.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==A)){if(ut=!1,r=r.filter(function(d){return d[L]!==Oe[L]&&d[L]!==Gr}),A!==e.currentTarget){var s=k.get(A).items,a=s.filter(function(d){return!d[zt]});Ae(A,a,{trigger:Z.DRAGGED_ENTERED_ANOTHER,id:q[L],source:X.POINTER})}var i=e.detail.indexObj.index;z=e.currentTarget,r.splice(i,0,Oe),Ae(e.currentTarget,r,{trigger:Z.DRAGGED_ENTERED,id:q[L],source:X.POINTER})}}function Jr(e){if(Te){var t=k.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==A&&e.currentTarget!==z)){var s=ie(r),a=Ht(s);a!==-1&&s.splice(a,1);var i=z;z=void 0;var d=e.detail,c=d.type,h=d.theOtherDz;if(c===Rt.OUTSIDE_OF_ANY||c===Rt.LEFT_FOR_ANOTHER&&h!==A&&k.get(h).dropFromOthersDisabled){ut=!0,z=A;var l=i===A?s:ie(k.get(A).items);l.splice(Wt,0,Oe),Ae(A,l,{trigger:Z.DRAGGED_LEFT_ALL,id:q[L],source:X.POINTER})}Ae(e.currentTarget,s,{trigger:Z.DRAGGED_LEFT,id:q[L],source:X.POINTER})}}}function Qr(e){var t=k.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==A)){var s=ie(r);ut=!1;var a=e.detail.indexObj.index,i=Ht(s);i!==-1&&s.splice(i,1),s.splice(a,0,Oe),Ae(e.currentTarget,s,{trigger:Z.DRAGGED_OVER_INDEX,id:q[L],source:X.POINTER})}}function Lt(e){e.preventDefault();var t=e.touches?e.touches[0]:e;P={x:t.clientX,y:t.clientY},M.style.transform="translate3d(".concat(P.x-ve.x,"px, ").concat(P.y-ve.y,"px, 0)")}function Ze(){cr=!0,window.removeEventListener("mousemove",Lt),window.removeEventListener("touchmove",Lt),window.removeEventListener("mouseup",Ze),window.removeEventListener("touchend",Ze),Ma(),_a(M),z||(z=A);var e=k.get(z),t=e.items,r=e.type;Mt(le.get(r),function(a){return k.get(a).dropTargetStyle},function(a){return k.get(a).dropTargetClasses});var n=Ht(t);n===-1&&z===A&&(n=Wt),t=t.map(function(a){return a[zt]?q:a});function s(){fr(),Be(z,t,{trigger:ut?Z.DROPPED_OUTSIDE_OF_ANY:Z.DROPPED_INTO_ZONE,id:q[L],source:X.POINTER}),z!==A&&Be(A,k.get(A).items,{trigger:Z.DROPPED_INTO_ANOTHER,id:q[L],source:X.POINTER});var a=Array.from(z.children).find(function(i){return i.getAttribute(Gt)});a&&Oa(a),Fa()}k.get(z).dropAnimationDisabled?s():ja(n,s)}function ja(e,t){var r=e>-1?er(z.children[e],!1):er(z,!1),n={x:r.left-parseFloat(M.style.left),y:r.top-parseFloat(M.style.top)},s=k.get(z),a=s.dropAnimationDurationMs,i="transform ".concat(a,"ms ease");M.style.transition=M.style.transition?M.style.transition+","+i:i,M.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,a)}function Pa(e,t){kt.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){Xr(e),document.body.appendChild(e)})}function Fa(){M&&M.remove&&M.remove(),V&&V.remove&&V.remove(),M=void 0,V=void 0,q=void 0,Ut=void 0,A=void 0,Wt=void 0,Oe=void 0,z=void 0,ve=void 0,P=void 0,Te=!1,cr=!1,fr=void 0,ut=!1,ge&&clearTimeout(ge),ge=void 0,nt=!1,vr=!1,kt.length&&(kt.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),kt=[])}function $a(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Rr,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,useCursorForDetection:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},s=new Map;function a(){window.addEventListener("mousemove",c,{passive:!1}),window.addEventListener("touchmove",c,{passive:!1,capture:!1}),window.addEventListener("mouseup",d,{passive:!1}),window.addEventListener("touchend",d,{passive:!1})}function i(){window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),window.removeEventListener("mouseup",d),window.removeEventListener("touchend",d),ge&&(clearTimeout(ge),ge=void 0,nt=!1)}function d(u){if(i(),V=void 0,ve=void 0,P=void 0,u.type==="touchend"){var v=new Event("click",{bubbles:!0,cancelable:!0});u.target.dispatchEvent(v)}}function c(u){var v=!!u.touches,y=v?u.touches[0]:u;if(v&&n.delayTouchStartMs>0&&!nt){P={x:y.clientX,y:y.clientY},(Math.abs(P.x-ve.x)>=At||Math.abs(P.y-ve.y)>=At)&&(ge&&(clearTimeout(ge),ge=void 0),d(u));return}u.preventDefault(),P={x:y.clientX,y:y.clientY},(Math.abs(P.x-ve.x)>=At||Math.abs(P.y-ve.y)>=At)&&(i(),l())}function h(u){if(!(u.target!==u.currentTarget&&(u.target.value!==void 0||u.target.isContentEditable))&&!u.button&&!Te){var v=!!u.touches,y=v&&n.delayTouchStartMs>0;y||u.preventDefault(),u.stopPropagation();var D=v?u.touches[0]:u;ve={x:D.clientX,y:D.clientY},P=Ct({},ve),V=u.currentTarget,y&&(nt=!1,ge=window.setTimeout(function(){V&&(nt=!0,i(),l())},n.delayTouchStartMs)),a()}}function l(){Te=!0;var u=s.get(V);Wt=u,A=V.parentElement;var v=A.closest("dialog")||A.closest("[popover]")||A.getRootNode(),y=v.body||v,D=n.items,E=n.type,x=n.centreDraggedOnCursor,T=n.useCursorForDetection,N=ie(D);q=N[u],Ut=E,Oe=La(q),vr=T,M=ba(V,x&&P),y.appendChild(M);function Q(){V.parentElement?window.requestAnimationFrame(Q):(V.setAttribute(Nr,!0),y.appendChild(V),Na(),Xr(V),Oe[L]=q[L],M.focus())}window.requestAnimationFrame(Q),St(Array.from(le.get(n.type)).filter(function(G){return G===A||!k.get(G).dropFromOthersDisabled}),function(G){return k.get(G).dropTargetStyle},function(G){return k.get(G).dropTargetClasses}),N.splice(u,1,Oe),fr=Aa(A),Ae(A,N,{trigger:Z.DRAG_STARTED,id:q[L],source:X.POINTER}),window.addEventListener("mousemove",Lt,{passive:!1}),window.addEventListener("touchmove",Lt,{passive:!1,capture:!1}),window.addEventListener("mouseup",Ze,{passive:!1}),window.addEventListener("touchend",Ze,{passive:!1})}function g(u){var v=u.items,y=v===void 0?void 0:v,D=u.flipDurationMs,E=D===void 0?0:D,x=u.type,T=x===void 0?Ia:x,N=u.dragDisabled,Q=N===void 0?!1:N,G=u.morphDisabled,ee=G===void 0?!1:G,F=u.dropFromOthersDisabled,me=F===void 0?!1:F,he=u.dropTargetStyle,ye=he===void 0?Rr:he,te=u.dropTargetClasses,re=te===void 0?[]:te,Le=u.transformDraggedElement,De=Le===void 0?function(){}:Le,Ye=u.centreDraggedOnCursor,je=Ye===void 0?!1:Ye,j=u.useCursorForDetection,p=j===void 0?!1:j,w=u.dropAnimationDisabled,Y=w===void 0?!1:w,we=u.delayTouchStart,de=we===void 0?!1:we;n.dropAnimationDurationMs=E;var be=0;de===!0?be=Ca:typeof de=="number"&&isFinite(de)&&de>=0&&(be=de),n.delayTouchStartMs=be,n.type&&T!==n.type&&Mr(e,n.type),n.type=T,n.items=ie(y),n.dragDisabled=Q,n.morphDisabled=ee,n.transformDraggedElement=De,n.centreDraggedOnCursor=je,n.useCursorForDetection=p,n.dropAnimationDisabled=Y,r&&Te&&!cr&&(!la(ye,n.dropTargetStyle)||!da(re,n.dropTargetClasses))&&(Mt([e],function(){return n.dropTargetStyle},function(){return re}),St([e],function(){return ye},function(){return re})),n.dropTargetStyle=ye,n.dropTargetClasses=ie(re);function _e(C,Ee){return k.get(C)?k.get(C)[Ee]:n[Ee]}r&&Te&&n.dropFromOthersDisabled!==me&&(me?Mt([e],function(C){return _e(C,"dropTargetStyle")},function(C){return _e(C,"dropTargetClasses")}):St([e],function(C){return _e(C,"dropTargetStyle")},function(C){return _e(C,"dropTargetClasses")})),n.dropFromOthersDisabled=me,k.set(e,n),Ra(e,T);for(var Ve=Te?Ht(n.items):-1,oe=0;oe<e.children.length;oe++){var b=e.children[oe];if(Ta(b,Q),oe===Ve){ee||Ea(M,b,P.x,P.y),n.transformDraggedElement(M,q,oe),xa(b);continue}b.removeEventListener("mousedown",Kt.get(b)),b.removeEventListener("touchstart",Kt.get(b)),Q||(b.addEventListener("mousedown",h),b.addEventListener("touchstart",h),Kt.set(b,h)),s.set(b,oe),r||(r=!0)}}return g(t),{update:function(v){g(v)},destroy:function(){function v(){Mr(e,k.get(e).type),k.delete(e)}Te&&!e.closest("[".concat(Nr,"]"))?Pa(e,v):v()}}}var It,nr={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},en=(It={},He(It,nr.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),He(It,nr.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),It),za="dnd-action-aria-alert",R;function ar(){R||(R=document.createElement("div"),(function(){R.id=za,R.style.position="fixed",R.style.bottom="0",R.style.left="0",R.style.zIndex="-5",R.style.opacity="0",R.style.height="0",R.style.width="0",R.setAttribute("role","alert")})(),document.body.prepend(R),Object.entries(en).forEach(function(e){var t=Gn(e,2),r=t[0],n=t[1];return document.body.prepend(Wa(r,n))}))}function Ga(){return dr?null:(document.readyState==="complete"?ar():window.addEventListener("DOMContentLoaded",ar),Ct({},nr))}function Ua(){dr||!R||(Object.keys(en).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),R.remove(),R=void 0)}function Wa(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function We(e){if(!dr){R||ar(),R.innerHTML="";var t=document.createTextNode(e);R.appendChild(t),R.style.display="none",R.style.display="inline"}}var Ha="--any--",Lr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},ae=!1,ir,W,Me="",Ne,pe,xe="",jt=new WeakSet,jr=new WeakMap,Pr=new WeakMap,or=new Map,$=new Map,se=new Map,Pt;function Ba(e,t){se.size===0&&(Pt=Ga(),window.addEventListener("keydown",tn),window.addEventListener("click",rn)),se.has(t)||se.set(t,new Set),se.get(t).has(e)||(se.get(t).add(e),Ur())}function Fr(e,t){W===e&&st(),se.get(t).delete(e),Wr(),se.get(t).size===0&&se.delete(t),se.size===0&&(window.removeEventListener("keydown",tn),window.removeEventListener("click",rn),Pt=void 0,Ua())}function tn(e){ae&&e.key==="Escape"&&st()}function rn(){ae&&(jt.has(document.activeElement)||st())}function Za(e){if(ae){var t=e.currentTarget;if(t!==W){Me=t.getAttribute("aria-label")||"";var r=$.get(W),n=r.items,s=n.find(function(g){return g[L]===pe}),a=n.indexOf(s),i=n.splice(a,1)[0],d=$.get(t),c=d.items,h=d.autoAriaDisabled;t.getBoundingClientRect().top<W.getBoundingClientRect().top||t.getBoundingClientRect().left<W.getBoundingClientRect().left?(c.push(i),h||We("Moved item ".concat(xe," to the end of the list ").concat(Me))):(c.unshift(i),h||We("Moved item ".concat(xe," to the beginning of the list ").concat(Me)));var l=W;Be(l,n,{trigger:Z.DROPPED_INTO_ANOTHER,id:pe,source:X.KEYBOARD}),Be(t,c,{trigger:Z.DROPPED_INTO_ZONE,id:pe,source:X.KEYBOARD}),W=t}}}function nn(){or.forEach(function(e,t){var r=e.update;return r($.get(t))})}function st(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;$.get(W).autoAriaDisabled||We("Stopped dragging item ".concat(xe)),jt.has(document.activeElement)&&document.activeElement.blur(),e&&Ae(W,$.get(W).items,{trigger:Z.DRAG_STOPPED,id:pe,source:X.KEYBOARD}),Mt(se.get(ir),function(t){return $.get(t).dropTargetStyle},function(t){return $.get(t).dropTargetClasses}),Ne=null,pe=null,xe="",ir=null,W=null,Me="",ae=!1,nn()}function Ya(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Lr,dropTargetClasses:[],autoAriaDisabled:!1};function n(l,g,u){l.length<=1||l.splice(u,1,l.splice(g,1,l[u])[0])}function s(l){switch(l.key){case"Enter":case" ":{if((l.target.disabled!==void 0||l.target.href||l.target.isContentEditable)&&!jt.has(l.target))return;l.preventDefault(),l.stopPropagation(),ae?st():a(l);break}case"ArrowDown":case"ArrowRight":{if(!ae)return;l.preventDefault(),l.stopPropagation();var g=$.get(e),u=g.items,v=Array.from(e.children),y=v.indexOf(l.currentTarget);y<v.length-1&&(r.autoAriaDisabled||We("Moved item ".concat(xe," to position ").concat(y+2," in the list ").concat(Me)),n(u,y,y+1),Be(e,u,{trigger:Z.DROPPED_INTO_ZONE,id:pe,source:X.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!ae)return;l.preventDefault(),l.stopPropagation();var D=$.get(e),E=D.items,x=Array.from(e.children),T=x.indexOf(l.currentTarget);T>0&&(r.autoAriaDisabled||We("Moved item ".concat(xe," to position ").concat(T," in the list ").concat(Me)),n(E,T,T-1),Be(e,E,{trigger:Z.DROPPED_INTO_ZONE,id:pe,source:X.KEYBOARD}));break}}}function a(l){d(l.currentTarget),W=e,ir=r.type,ae=!0;var g=Array.from(se.get(r.type)).filter(function(v){return v===W||!$.get(v).dropFromOthersDisabled});if(St(g,function(v){return $.get(v).dropTargetStyle},function(v){return $.get(v).dropTargetClasses}),!r.autoAriaDisabled){var u="Started dragging item ".concat(xe,". Use the arrow keys to move it within its list ").concat(Me);g.length>1&&(u+=", or tab to another list in order to move the item into it"),We(u)}Ae(e,$.get(e).items,{trigger:Z.DRAG_STARTED,id:pe,source:X.KEYBOARD}),nn()}function i(l){ae&&l.currentTarget!==Ne&&(l.stopPropagation(),st(!1),a(l))}function d(l){var g=$.get(e),u=g.items,v=Array.from(e.children),y=v.indexOf(l);Ne=l,Ne.tabIndex=r.zoneItemTabIndex,pe=u[y][L],xe=v[y].getAttribute("aria-label")||""}function c(l){var g=l.items,u=g===void 0?[]:g,v=l.type,y=v===void 0?Ha:v,D=l.dragDisabled,E=D===void 0?!1:D,x=l.zoneTabIndex,T=x===void 0?0:x,N=l.zoneItemTabIndex,Q=N===void 0?0:N,G=l.dropFromOthersDisabled,ee=G===void 0?!1:G,F=l.dropTargetStyle,me=F===void 0?Lr:F,he=l.dropTargetClasses,ye=he===void 0?[]:he,te=l.autoAriaDisabled,re=te===void 0?!1:te;r.items=ie(u),r.dragDisabled=E,r.dropFromOthersDisabled=ee,r.zoneTabIndex=T,r.zoneItemTabIndex=Q,r.dropTargetStyle=me,r.dropTargetClasses=ye,r.autoAriaDisabled=re,r.type&&y!==r.type&&Fr(e,r.type),r.type=y,Ba(e,y),re||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",E?Pt.DND_ZONE_DRAG_DISABLED:Pt.DND_ZONE_ACTIVE)),$.set(e,r),ae?e.tabIndex=e===W||Ne.contains(e)||r.dropFromOthersDisabled||W&&r.type!==$.get(W).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Za);for(var Le=function(je){var j=e.children[je];jt.add(j),j.tabIndex=ae?-1:r.zoneItemTabIndex,re||j.setAttribute("role","listitem"),j.removeEventListener("keydown",jr.get(j)),j.removeEventListener("click",Pr.get(j)),E||(j.addEventListener("keydown",s),jr.set(j,s),j.addEventListener("click",i),Pr.set(j,i)),ae&&r.items[je][L]===pe&&(Ne=j,Ne.tabIndex=r.zoneItemTabIndex,j.focus())},De=0;De<e.children.length;De++)Le(De)}c(t);var h={update:function(g){c(g)},destroy:function(){Fr(e,r.type),$.delete(e),or.delete(e)}};return or.set(e,h),h}var Va=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","useCursorForDetection","delayTouchStart","dropAnimationDisabled"];function qa(e,t){if(Xa(e))return{update:function(){},destroy:function(){}};$r(t);var r=$a(e,t),n=Ya(e,t);return{update:function(a){$r(a),r.update(a),n.update(a)},destroy:function(){r.destroy(),n.destroy()}}}function Xa(e){return!!e.closest("[".concat(ta,'="true"]'))}function $r(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var s=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor,e.useCursorForDetection;var a=e.delayTouchStart;e.dropAnimationDisabled;var i=zn(e,Va);if(Object.keys(i).length>0&&console.warn("dndzone will ignore unknown options",i),!t)throw new Error("no 'items' key provided to dndzone");var d=t.find(function(l){return!{}.hasOwnProperty.call(l,L)});if(d)throw new Error("missing '".concat(L,"' property for item ").concat(tt(d)));if(s&&!Array.isArray(s))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Ge(s),", ").concat(tt(s)));if(r&&!zr(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Ge(r),", ").concat(tt(r)));if(n&&!zr(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Ge(n),", ").concat(tt(n)));if(a!==void 0&&a!==!1){var c=a===!0,h=typeof a=="number"&&isFinite(a)&&a>=0;if(!c&&!h)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(Ge(a),", ").concat(tt(a)))}}function zr(e){return!isNaN(e)&&(function(t){return(t|0)===t})(parseFloat(e))}function Ka(e,{from:t,to:r},n={}){var{delay:s=0,duration:a=ee=>Math.sqrt(ee)*120,easing:i=Fn}=n,d=getComputedStyle(e),c=d.transform==="none"?"":d.transform,[h,l]=d.transformOrigin.split(" ").map(parseFloat);h/=e.clientWidth,l/=e.clientHeight;var g=Ja(e),u=e.clientWidth/r.width/g,v=e.clientHeight/r.height/g,y=t.left+t.width*h,D=t.top+t.height*l,E=r.left+r.width*h,x=r.top+r.height*l,T=(y-E)*u,N=(D-x)*v,Q=t.width/r.width,G=t.height/r.height;return{delay:s,duration:typeof a=="function"?a(Math.sqrt(T*T+N*N)):a,easing:i,css:(ee,F)=>{var me=F*T,he=F*N,ye=ee+F*Q,te=ee+F*G;return`transform: ${c} translate(${me}px, ${he}px) scale(${ye}, ${te});`}}}function Ja(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}var Qa=K("<span> </span>"),ei=K('<div class="move-item svelte-1jxgwkf"><input type="number" class="move-level svelte-1jxgwkf" title="Level learned"/> <span class="move-name svelte-1jxgwkf"> </span> <span> </span> <span class="move-power svelte-1jxgwkf"> </span> <button class="remove-move-btn svelte-1jxgwkf">X</button></div>'),ti=K('<button class="move-result-item svelte-1jxgwkf"><span class="move-name svelte-1jxgwkf"> </span> <span> </span> <span class="move-power svelte-1jxgwkf"> </span> <span class="move-pp svelte-1jxgwkf"> </span></button>'),ri=K('<div class="no-results svelte-1jxgwkf">No moves found</div>'),ni=K('<div class="no-results svelte-1jxgwkf">Type to search moves...</div>'),ai=K('<div class="modal-overlay svelte-1jxgwkf" role="button" tabindex="0"><div class="add-move-modal svelte-1jxgwkf" role="dialog" aria-modal="true" tabindex="-1"><header class="modal-header svelte-1jxgwkf"><h3 class="svelte-1jxgwkf">Add Move</h3> <button class="close-modal-btn svelte-1jxgwkf">X</button></header> <div class="modal-body svelte-1jxgwkf"><div class="modal-search svelte-1jxgwkf"><input type="text" placeholder="Search moves by name or type..." class="svelte-1jxgwkf"/></div> <div class="level-input svelte-1jxgwkf"><label class="svelte-1jxgwkf">Level learned: <input type="number" min="1" max="100" class="svelte-1jxgwkf"/></label></div> <div class="moves-search-results svelte-1jxgwkf"><!> <!> <!></div></div></div></div>'),ii=K('<div class="fullscreen-editor svelte-1jxgwkf" data-testid="fullscreen-editor"><header class="editor-header svelte-1jxgwkf"><button class="nav-btn svelte-1jxgwkf">Prev</button> <span class="editor-title svelte-1jxgwkf"> <span class="position svelte-1jxgwkf"> </span></span> <button class="nav-btn svelte-1jxgwkf">Next</button></header> <div class="editor-content svelte-1jxgwkf"><section class="editor-section svelte-1jxgwkf"><h3 class="svelte-1jxgwkf">Basic Info</h3> <div class="form-row svelte-1jxgwkf"><label class="svelte-1jxgwkf">Name <input type="text" class="svelte-1jxgwkf"/></label></div> <div class="form-row svelte-1jxgwkf"><label class="svelte-1jxgwkf">Regional ID <input type="number" readonly="" class="svelte-1jxgwkf"/></label></div> <div class="form-row svelte-1jxgwkf"><span class="form-label svelte-1jxgwkf">Types</span> <div class="types-display svelte-1jxgwkf"></div></div></section> <section class="editor-section svelte-1jxgwkf"><h3 class="svelte-1jxgwkf">Base Stats</h3> <div class="stats-grid svelte-1jxgwkf"><div class="stat-row svelte-1jxgwkf"><label class="svelte-1jxgwkf">HP <input type="number" class="svelte-1jxgwkf"/></label></div> <div class="stat-row svelte-1jxgwkf"><label class="svelte-1jxgwkf">Attack <input type="number" class="svelte-1jxgwkf"/></label></div> <div class="stat-row svelte-1jxgwkf"><label class="svelte-1jxgwkf">Defense <input type="number" class="svelte-1jxgwkf"/></label></div> <div class="stat-row svelte-1jxgwkf"><label class="svelte-1jxgwkf">Sp.Atk <input type="number" class="svelte-1jxgwkf"/></label></div> <div class="stat-row svelte-1jxgwkf"><label class="svelte-1jxgwkf">Sp.Def <input type="number" class="svelte-1jxgwkf"/></label></div> <div class="stat-row svelte-1jxgwkf"><label class="svelte-1jxgwkf">Speed <input type="number" class="svelte-1jxgwkf"/></label></div></div></section> <section class="editor-section svelte-1jxgwkf"><div class="section-header svelte-1jxgwkf"><h3 class="svelte-1jxgwkf"> </h3> <button class="add-move-btn svelte-1jxgwkf">+ Add Move</button></div> <div class="moves-list svelte-1jxgwkf"></div></section></div> <footer class="editor-footer svelte-1jxgwkf"><button class="cancel-btn svelte-1jxgwkf">Cancel</button> <button class="save-btn svelte-1jxgwkf">Save & Close</button></footer> <!></div>'),oi=K('<span class="changes-indicator svelte-1jxgwkf">Unsaved changes</span>'),si=K('<div class="loading svelte-1jxgwkf">Loading...</div>'),li=K("<span> </span>"),di=K('<div class="pokemon-item svelte-1jxgwkf" data-testid="pokemon-list-item"><div class="drag-handle svelte-1jxgwkf">&#9776;</div> <div class="pokemon-info svelte-1jxgwkf" role="button" tabindex="0"><span class="regional-id svelte-1jxgwkf"> </span> <span class="pokemon-name svelte-1jxgwkf"> </span> <span class="pokemon-types svelte-1jxgwkf"></span> <span class="move-count svelte-1jxgwkf"> </span></div></div>'),ui=K('<div class="pokemon-count svelte-1jxgwkf"> <!></div> <div class="pokemon-list svelte-1jxgwkf"></div>',1),ci=K('<div class="list-view svelte-1jxgwkf"><div class="search-bar svelte-1jxgwkf"><input type="text" placeholder="Search by name, ID, or type..." data-testid="pokemon-search" class="svelte-1jxgwkf"/> <!></div> <!></div>'),fi=K('<div class="pokedex-manager svelte-1jxgwkf" data-testid="pokedex-manager-tab"><!></div>');function Di(e,t){On(t,!0);let r,n=fe(xr([])),s=fe(""),a=fe(!0),i=fe(null),d=fe(0),c=fe(!1),h=fe(!1),l=fe(xr([])),g=fe(""),u=fe(1);const v=xt(()=>()=>{if(!o(s))return o(n);const p=o(s).toLowerCase();return o(n).filter(w=>w.name.toLowerCase().includes(p)||w.id.toString().includes(p)||w.types.some(Y=>Y.toLowerCase().includes(p)))});An(async()=>{r=Mn.resolve(Ln),await r.ensureLoaded(),_(n,[...r.entries].map((p,w)=>({...p,_dndId:p.id})),!0),_(a,!1)});function y(p){_(n,p.detail.items,!0)}function D(p){_(n,p.detail.items,!0),E(),_(c,!0)}function E(){o(n).forEach((p,w)=>{p.regionalId=w+1}),r.entries=[...o(n)]}function x(p){_(d,o(n).findIndex(w=>w.id===p.id),!0),_(i,{...p},!0)}function T(){_(i,null)}function N(){if(o(i)){const p=o(n).findIndex(w=>w.id===o(i).id);p!==-1&&(o(n)[p]={...o(i)},_(n,[...o(n)],!0),r.entries=[...o(n)],_(c,!0),t.onPokemonEdited?.(o(i)))}T()}function Q(){o(d)>0&&(ee(),Ir(d,-1),_(i,{...o(n)[o(d)]},!0))}function G(){o(d)<o(n).length-1&&(ee(),Ir(d),_(i,{...o(n)[o(d)]},!0))}function ee(){if(o(i)){const p=o(n).findIndex(w=>w.id===o(i).id);p!==-1&&(o(n)[p]={...o(i)},_(n,[...o(n)],!0),_(c,!0))}}function F(p,w){o(i)&&o(i).stats&&(o(i).stats[p]=w,_(i,{...o(i)},!0))}function me(p){o(i)&&(o(i).moves=o(i).moves.filter((w,Y)=>Y!==p),_(i,{...o(i)},!0))}function he(p,w){o(i)&&(o(i).moves[p].level=w,_(i,{...o(i)},!0))}async function ye(){o(l).length===0&&_(l,await Pn(),!0),_(g,""),_(u,1),_(h,!0)}function te(){_(h,!1),_(g,"")}const re=xt(()=>()=>{if(!o(i))return[];const p=new Set(o(i).moves?.map(w=>w.id)??[]);return o(l).filter(w=>!p.has(w.id)).filter(w=>{if(!o(g))return!0;const Y=o(g).toLowerCase();return w.name.toLowerCase().includes(Y)||w.type.toLowerCase().includes(Y)}).slice(0,50)});function Le(p){if(!o(i))return;const w=new jn(p.id,p.name,p.type,p.category,p.power,p.accuracy,p.pp,p.priority,p.target,p.effect,p.effectChance,p.description,o(u),p.method);o(i).moves=[...o(i).moves??[],w],_(i,{...o(i)},!0),te()}var De=fi(),Ye=f(De);{var je=p=>{var w=ii(),Y=f(w),we=f(Y),de=m(we,2),be=f(de),_e=m(be),Ve=f(_e),oe=m(de,2),b=m(Y,2),C=f(b),Ee=m(f(C),2),ct=f(Ee),Bt=m(f(ct)),ft=m(Ee,2),Pe=f(ft),J=m(f(Pe)),ne=m(ft,2),qe=m(f(ne),2);Qe(qe,21,()=>o(i).types,Or,(O,H)=>{var ue=Qa(),Ie=f(ue);ke(()=>{Ot(ue,1,`type-badge ${o(H)??""}`,"svelte-1jxgwkf"),U(Ie,o(H))}),B(O,ue)});var Fe=m(C,2),vt=m(f(Fe),2),gt=f(vt),pt=f(gt),mt=m(f(pt)),Xe=m(gt,2),Zt=f(Xe),ht=m(f(Zt)),$e=m(Xe,2),yt=f($e),ze=m(f(yt)),wt=m($e,2),an=f(wt),gr=m(f(an)),pr=m(wt,2),on=f(pr),mr=m(f(on)),sn=m(pr,2),ln=f(sn),hr=m(f(ln)),dn=m(Fe,2),yr=f(dn),wr=f(yr),un=f(wr),cn=m(wr,2),fn=m(yr,2);Qe(fn,23,()=>o(i).moves??[],(O,H)=>O.id+"-"+H,(O,H,ue)=>{var Ie=ei(),Ke=f(Ie),Dt=m(Ke,2),bt=f(Dt),Je=m(Dt,2),_t=f(Je),Et=m(Je,2),Yt=f(Et),Vt=m(Et,2);ke(()=>{Ce(Ke,o(H).level??0),U(bt,o(H).name),Ot(Je,1,`move-type type-badge ${o(H).type??""}`,"svelte-1jxgwkf"),U(_t,o(H).type),U(Yt,o(H).power||"-")}),S("change",Ke,Tt=>he(o(ue),parseInt(Tt.currentTarget.value)||0)),S("click",Vt,()=>me(o(ue))),B(O,Ie)});var Dr=m(b,2),br=f(Dr),vn=m(br,2),gn=m(Dr,2);{var pn=O=>{var H=ai(),ue=f(H),Ie=f(ue),Ke=m(f(Ie),2),Dt=m(Ie,2),bt=f(Dt),Je=f(bt),_t=m(bt,2),Et=f(_t),Yt=m(f(Et)),Vt=m(_t,2),Tt=f(Vt);Qe(Tt,17,()=>o(re)(),I=>I.id,(I,ce)=>{var qt=ti(),Er=f(qt),bn=f(Er),Xt=m(Er,2),_n=f(Xt),Tr=m(Xt,2),En=f(Tr),Tn=m(Tr,2),xn=f(Tn);ke(()=>{U(bn,o(ce).name),Ot(Xt,1,`type-badge ${o(ce).type??""}`,"svelte-1jxgwkf"),U(_n,o(ce).type),U(En,o(ce).power||"-"),U(xn,`${o(ce).pp??""}pp`)}),S("click",qt,()=>Le(o(ce))),B(I,qt)});var _r=m(Tt,2);{var mn=I=>{var ce=ri();B(I,ce)},hn=xt(()=>o(re)().length===0&&o(g));Se(_r,I=>{o(hn)&&I(mn)})}var yn=m(_r,2);{var wn=I=>{var ce=ni();B(I,ce)},Dn=xt(()=>o(re)().length===0&&!o(g));Se(yn,I=>{o(Dn)&&I(wn)})}S("click",H,te),S("keydown",H,I=>I.key==="Escape"?te():void 0),S("click",ue,I=>I.stopPropagation()),S("keydown",ue,I=>I.stopPropagation()),S("click",Ke,te),et(Je,()=>o(g),I=>_(g,I)),et(Yt,()=>o(u),I=>_(u,I)),B(O,H)};Se(gn,O=>{o(h)&&O(pn)})}ke(()=>{we.disabled=o(d)===0,U(be,`#${o(i).id??""}
					${o(i).name??""} `),U(Ve,`(${o(d)+1}/${o(n).length??""})`),oe.disabled=o(d)===o(n).length-1,Ce(mt,o(i).stats?.hp??0),Ce(ht,o(i).stats?.attack??0),Ce(ze,o(i).stats?.defense??0),Ce(gr,o(i).stats?.spAttack??0),Ce(mr,o(i).stats?.spDefense??0),Ce(hr,o(i).stats?.speed??0),U(un,`Moves (${o(i).moves?.length??0??""})`)}),S("click",we,Q),S("click",oe,G),et(Bt,()=>o(i).name,O=>o(i).name=O),et(J,()=>o(i).regionalId,O=>o(i).regionalId=O),S("change",mt,O=>F("hp",parseInt(O.currentTarget.value))),S("change",ht,O=>F("attack",parseInt(O.currentTarget.value))),S("change",ze,O=>F("defense",parseInt(O.currentTarget.value))),S("change",gr,O=>F("spAttack",parseInt(O.currentTarget.value))),S("change",mr,O=>F("spDefense",parseInt(O.currentTarget.value))),S("change",hr,O=>F("speed",parseInt(O.currentTarget.value))),S("click",cn,ye),S("click",br,T),S("click",vn,N),B(p,w)},j=p=>{var w=ci(),Y=f(w),we=f(Y),de=m(we,2);{var be=b=>{var C=oi();B(b,C)};Se(de,b=>{o(c)&&b(be)})}var _e=m(Y,2);{var Ve=b=>{var C=si();B(b,C)},oe=b=>{var C=ui(),Ee=Sn(C),ct=f(Ee),Bt=m(ct);{var ft=J=>{var ne=Rn("(filtered)");B(J,ne)};Se(Bt,J=>{o(s)&&J(ft)})}var Pe=m(Ee,2);Qe(Pe,29,()=>o(s)?o(v)():o(n),J=>J.id,(J,ne)=>{var qe=di(),Fe=m(f(qe),2),vt=f(Fe),gt=f(vt),pt=m(vt,2),mt=f(pt),Xe=m(pt,2);Qe(Xe,21,()=>o(ne).types,Or,($e,yt)=>{var ze=li(),wt=f(ze);ke(()=>{Ot(ze,1,`type-badge ${o(yt)??""}`,"svelte-1jxgwkf"),U(wt,o(yt))}),B($e,ze)});var Zt=m(Xe,2),ht=f(Zt);ke(()=>{U(gt,`#${o(ne).regionalId??""}`),U(mt,o(ne).name),U(ht,`${o(ne).moves?.length??0??""} moves`)}),S("click",Fe,()=>x(o(ne))),S("keydown",Fe,$e=>$e.key==="Enter"?x(o(ne)):void 0),Nn(qe,()=>Ka,()=>({duration:200})),B(J,qe)}),kn(Pe,(J,ne)=>qa?.(J,ne),()=>({items:o(s)?o(v)():o(n),flipDurationMs:200})),ke(J=>U(ct,`${J??""} Pokemon `),[()=>o(v)().length]),Ar("consider",Pe,y),Ar("finalize",Pe,D),B(b,C)};Se(_e,b=>{o(a)?b(Ve):b(oe,!1)})}et(we,()=>o(s),b=>_(s,b)),B(p,w)};Se(Ye,p=>{o(i)?p(je):p(j,!1)})}B(e,De),In()}Cn(["click","change","keydown"]);export{Di as default};
